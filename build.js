/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* jshint asi: true, browser: true, expr: true, node: true, esversion: 6 */\r\n\r\n\r\n\r\nconst Toolbar = __webpack_require__(1)\r\n\r\nlet toolbar = Toolbar()\r\n\r\ntoolbar.init()\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9hcHAuanM/MzMzMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBqc2hpbnQgYXNpOiB0cnVlLCBicm93c2VyOiB0cnVlLCBleHByOiB0cnVlLCBub2RlOiB0cnVlLCBlc3ZlcnNpb246IDYgKi9cclxuXHJcbid1c2Ugc3RyaWN0J1xyXG5cclxuY29uc3QgVG9vbGJhciA9IHJlcXVpcmUoJy4vVG9vbGJhcicpXHJcblxyXG5sZXQgdG9vbGJhciA9IFRvb2xiYXIoKVxyXG5cclxudG9vbGJhci5pbml0KClcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvanMvYXBwLmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n");

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* jshint asi: true, browser: true, expr: true, node: true, esversion: 6 */\r\n\r\n\r\n\r\nconst Desktop = __webpack_require__(2)\r\nconst TemplateWindow = __webpack_require__(3)\r\nconst Chat = __webpack_require__(4)\r\nconst Memory = __webpack_require__(5)\r\nconst Calculator = __webpack_require__(6)\r\n\r\nconst toolbarBase = {\r\n\r\n  /**\r\n   * Function to initialize the basics\r\n   */\r\n  init: function () {\r\n    document.querySelector('#toolbar').addEventListener('click', this.launchProgram.bind(this))\r\n    this.desktop = Desktop()\r\n    this.desktop.initEventListeners()\r\n    this.whatIsTheTime()\r\n    window.setInterval(this.whatIsTheTime.bind(this), 1000)\r\n  },\r\n\r\n  /**\r\n   * Function to initialize/launch apps\r\n   */\r\n  launchProgram: function (event) {\r\n    if (event.target.parentElement.classList.contains('restart')) {\r\n      let elements = document.querySelector('#desktop').querySelectorAll('*')\r\n      for (let i = 0; i < elements.length; i++) {\r\n        elements[i].remove()\r\n      }\r\n      this.desktop.resetXYZ()\r\n    } else if (event.target.parentElement.classList.contains('chat')) {\r\n      this.launchChat()\r\n    } else if (event.target.parentElement.classList.contains('memory')) {\r\n      this.launchMemory()\r\n    } else if (event.target.parentElement.classList.contains('calculator')) {\r\n      this.launchCalculator()\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Function to \"build\" the new window element\r\n   * @param {Object} preference For the new window element\r\n   * @return {Object} The window  object\r\n   */\r\n  pieceTogetherWindow: function (preference) {\r\n    let windowObject = TemplateWindow()\r\n    windowObject.set(preference)\r\n    this.desktop.activateFocus(windowObject.windowElement)\r\n    return windowObject\r\n  },\r\n\r\n  /**\r\n   * Function to \"build\" the new window menu\r\n   * @param {Object} windowObject The new window\r\n   * @param {array} menuConent The new window\r\n   */\r\n  deviseMenu: function (windowObject, menuConent) {\r\n    let windowMenu = windowObject.windowElement.querySelector('.window-menu')\r\n    windowMenu.classList.add('menu' + windowObject.title)\r\n    let menu = menuConent\r\n    for (let i = 0; i < menu.length; i++) {\r\n      windowMenu.appendChild(document.createElement('span'))\r\n      windowMenu.querySelectorAll('span')[i].textContent = menu[i]\r\n      windowMenu.querySelectorAll('span')[i].classList.add(menu[i].toLowerCase())\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Function to initialize/launch the Chat app\r\n   */\r\n  launchChat: function () {\r\n    let preference = {\r\n      height: 500,\r\n      width: 300,\r\n      icon: '../image/wechat-black.png',\r\n      title: 'Chat'\r\n    }\r\n    let windowObject = this.pieceTogetherWindow(preference)\r\n\r\n    this.deviseMenu(windowObject, ['Username'])\r\n\r\n    let templateChat = document.querySelector('#template-chat').content.cloneNode(true)\r\n    let chatContainer = templateChat.querySelector('.chatContainer')\r\n    windowObject.windowElement.querySelector('.window-content').appendChild(chatContainer)\r\n\r\n    this.desktop.populateDesktop(windowObject)\r\n\r\n    let chat = Chat()\r\n    chat.set(windowObject.id)\r\n    chat.printHistory()\r\n  },\r\n\r\n  /**\r\n   * Function to initialize/launch the Memory app\r\n   */\r\n  launchMemory: function () {\r\n    let preference = {\r\n      height: 296,\r\n      width: 248,\r\n      icon: '../image/border-all-black.png',\r\n      title: 'Memory'\r\n    }\r\n    let windowObject = this.pieceTogetherWindow(preference)\r\n\r\n    this.deviseMenu(windowObject, ['Play', 'Board'])\r\n\r\n    let templateMemory = document.querySelector('#template-memory').content.cloneNode(true)\r\n    let memoryContainer = templateMemory.querySelector('.memoryContainer')\r\n    memoryContainer.setAttribute('board-size', '2x2')\r\n    windowObject.windowElement.querySelector('.window-content').appendChild(memoryContainer)\r\n\r\n    this.desktop.populateDesktop(windowObject)\r\n\r\n    let memory = Memory()\r\n    memory.set(windowObject.id)\r\n    memory.runMemory()\r\n  },\r\n\r\n  /**\r\n   * Function to initialize/launch the Calculator app\r\n   */\r\n  launchCalculator: function () {\r\n    let preference = {\r\n      height: 346,\r\n      width: 252,\r\n      icon: '../image/calculator-black.png',\r\n      title: 'Calculator'\r\n    }\r\n    let windowObject = this.pieceTogetherWindow(preference)\r\n\r\n    this.deviseMenu(windowObject, ['History'])\r\n\r\n    let templateCalculator = document.querySelector('#template-calculator').content.cloneNode(true)\r\n    let calculatorContainer = templateCalculator.querySelector('.calculatorContainer')\r\n    windowObject.windowElement.querySelector('.window-content').appendChild(calculatorContainer)\r\n\r\n    this.desktop.populateDesktop(windowObject)\r\n\r\n    let calculator = Calculator()\r\n    calculator.set(windowObject.id)\r\n  },\r\n\r\n  /**\r\n   * Function to update the clock\r\n   */\r\n  whatIsTheTime: function () {\r\n    let dateOption = {\r\n      hour12: false,\r\n      year: 'numeric',\r\n      month: '2-digit',\r\n      day: '2-digit'\r\n    }\r\n    let timeOption = {\r\n      hour12: false,\r\n      weekday: 'short',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    }\r\n    document.querySelector('#toolbar .toolbar-clock .toolbar-clock-date').textContent = new Date().toLocaleDateString('sv-se', dateOption)\r\n    document.querySelector('#toolbar .toolbar-clock .toolbar-clock-time').textContent = new Date().toLocaleTimeString('sv-se', timeOption)\r\n  }\r\n}\r\n\r\n/**\r\n * Constructor for the Toolbar\r\n * @constructor\r\n */\r\nlet Toolbar = function () {\r\n  return Object.create(toolbarBase, {\r\n    'desktop': {value: undefined, writable: true, enumerable: true, configurable: true}\r\n  })\r\n}\r\n\r\nmodule.exports = Toolbar\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9Ub29sYmFyLmpzPzcyYjYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoganNoaW50IGFzaTogdHJ1ZSwgYnJvd3NlcjogdHJ1ZSwgZXhwcjogdHJ1ZSwgbm9kZTogdHJ1ZSwgZXN2ZXJzaW9uOiA2ICovXHJcblxyXG4ndXNlIHN0cmljdCdcclxuXHJcbmNvbnN0IERlc2t0b3AgPSByZXF1aXJlKCcuL0Rlc2t0b3AnKVxyXG5jb25zdCBUZW1wbGF0ZVdpbmRvdyA9IHJlcXVpcmUoJy4vVGVtcGxhdGVXaW5kb3cnKVxyXG5jb25zdCBDaGF0ID0gcmVxdWlyZSgnLi9DaGF0JylcclxuY29uc3QgTWVtb3J5ID0gcmVxdWlyZSgnLi9NZW1vcnknKVxyXG5jb25zdCBDYWxjdWxhdG9yID0gcmVxdWlyZSgnLi9DYWxjdWxhdG9yJylcclxuXHJcbmNvbnN0IHRvb2xiYXJCYXNlID0ge1xyXG5cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBpbml0aWFsaXplIHRoZSBiYXNpY3NcclxuICAgKi9cclxuICBpbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9vbGJhcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5sYXVuY2hQcm9ncmFtLmJpbmQodGhpcykpXHJcbiAgICB0aGlzLmRlc2t0b3AgPSBEZXNrdG9wKClcclxuICAgIHRoaXMuZGVza3RvcC5pbml0RXZlbnRMaXN0ZW5lcnMoKVxyXG4gICAgdGhpcy53aGF0SXNUaGVUaW1lKClcclxuICAgIHdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLndoYXRJc1RoZVRpbWUuYmluZCh0aGlzKSwgMTAwMClcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBpbml0aWFsaXplL2xhdW5jaCBhcHBzXHJcbiAgICovXHJcbiAgbGF1bmNoUHJvZ3JhbTogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXN0YXJ0JykpIHtcclxuICAgICAgbGV0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rlc2t0b3AnKS5xdWVyeVNlbGVjdG9yQWxsKCcqJylcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGVsZW1lbnRzW2ldLnJlbW92ZSgpXHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5kZXNrdG9wLnJlc2V0WFlaKClcclxuICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjaGF0JykpIHtcclxuICAgICAgdGhpcy5sYXVuY2hDaGF0KClcclxuICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZW1vcnknKSkge1xyXG4gICAgICB0aGlzLmxhdW5jaE1lbW9yeSgpXHJcbiAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnY2FsY3VsYXRvcicpKSB7XHJcbiAgICAgIHRoaXMubGF1bmNoQ2FsY3VsYXRvcigpXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gXCJidWlsZFwiIHRoZSBuZXcgd2luZG93IGVsZW1lbnRcclxuICAgKiBAcGFyYW0ge09iamVjdH0gcHJlZmVyZW5jZSBGb3IgdGhlIG5ldyB3aW5kb3cgZWxlbWVudFxyXG4gICAqIEByZXR1cm4ge09iamVjdH0gVGhlIHdpbmRvdyAgb2JqZWN0XHJcbiAgICovXHJcbiAgcGllY2VUb2dldGhlcldpbmRvdzogZnVuY3Rpb24gKHByZWZlcmVuY2UpIHtcclxuICAgIGxldCB3aW5kb3dPYmplY3QgPSBUZW1wbGF0ZVdpbmRvdygpXHJcbiAgICB3aW5kb3dPYmplY3Quc2V0KHByZWZlcmVuY2UpXHJcbiAgICB0aGlzLmRlc2t0b3AuYWN0aXZhdGVGb2N1cyh3aW5kb3dPYmplY3Qud2luZG93RWxlbWVudClcclxuICAgIHJldHVybiB3aW5kb3dPYmplY3RcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBcImJ1aWxkXCIgdGhlIG5ldyB3aW5kb3cgbWVudVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSB3aW5kb3dPYmplY3QgVGhlIG5ldyB3aW5kb3dcclxuICAgKiBAcGFyYW0ge2FycmF5fSBtZW51Q29uZW50IFRoZSBuZXcgd2luZG93XHJcbiAgICovXHJcbiAgZGV2aXNlTWVudTogZnVuY3Rpb24gKHdpbmRvd09iamVjdCwgbWVudUNvbmVudCkge1xyXG4gICAgbGV0IHdpbmRvd01lbnUgPSB3aW5kb3dPYmplY3Qud2luZG93RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcud2luZG93LW1lbnUnKVxyXG4gICAgd2luZG93TWVudS5jbGFzc0xpc3QuYWRkKCdtZW51JyArIHdpbmRvd09iamVjdC50aXRsZSlcclxuICAgIGxldCBtZW51ID0gbWVudUNvbmVudFxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZW51Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHdpbmRvd01lbnUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpKVxyXG4gICAgICB3aW5kb3dNZW51LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4nKVtpXS50ZXh0Q29udGVudCA9IG1lbnVbaV1cclxuICAgICAgd2luZG93TWVudS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuJylbaV0uY2xhc3NMaXN0LmFkZChtZW51W2ldLnRvTG93ZXJDYXNlKCkpXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gaW5pdGlhbGl6ZS9sYXVuY2ggdGhlIENoYXQgYXBwXHJcbiAgICovXHJcbiAgbGF1bmNoQ2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHByZWZlcmVuY2UgPSB7XHJcbiAgICAgIGhlaWdodDogNTAwLFxyXG4gICAgICB3aWR0aDogMzAwLFxyXG4gICAgICBpY29uOiAnLi4vaW1hZ2Uvd2VjaGF0LWJsYWNrLnBuZycsXHJcbiAgICAgIHRpdGxlOiAnQ2hhdCdcclxuICAgIH1cclxuICAgIGxldCB3aW5kb3dPYmplY3QgPSB0aGlzLnBpZWNlVG9nZXRoZXJXaW5kb3cocHJlZmVyZW5jZSlcclxuXHJcbiAgICB0aGlzLmRldmlzZU1lbnUod2luZG93T2JqZWN0LCBbJ1VzZXJuYW1lJ10pXHJcblxyXG4gICAgbGV0IHRlbXBsYXRlQ2hhdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZW1wbGF0ZS1jaGF0JykuY29udGVudC5jbG9uZU5vZGUodHJ1ZSlcclxuICAgIGxldCBjaGF0Q29udGFpbmVyID0gdGVtcGxhdGVDaGF0LnF1ZXJ5U2VsZWN0b3IoJy5jaGF0Q29udGFpbmVyJylcclxuICAgIHdpbmRvd09iamVjdC53aW5kb3dFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5kb3ctY29udGVudCcpLmFwcGVuZENoaWxkKGNoYXRDb250YWluZXIpXHJcblxyXG4gICAgdGhpcy5kZXNrdG9wLnBvcHVsYXRlRGVza3RvcCh3aW5kb3dPYmplY3QpXHJcblxyXG4gICAgbGV0IGNoYXQgPSBDaGF0KClcclxuICAgIGNoYXQuc2V0KHdpbmRvd09iamVjdC5pZClcclxuICAgIGNoYXQucHJpbnRIaXN0b3J5KClcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBpbml0aWFsaXplL2xhdW5jaCB0aGUgTWVtb3J5IGFwcFxyXG4gICAqL1xyXG4gIGxhdW5jaE1lbW9yeTogZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHByZWZlcmVuY2UgPSB7XHJcbiAgICAgIGhlaWdodDogMjk2LFxyXG4gICAgICB3aWR0aDogMjQ4LFxyXG4gICAgICBpY29uOiAnLi4vaW1hZ2UvYm9yZGVyLWFsbC1ibGFjay5wbmcnLFxyXG4gICAgICB0aXRsZTogJ01lbW9yeSdcclxuICAgIH1cclxuICAgIGxldCB3aW5kb3dPYmplY3QgPSB0aGlzLnBpZWNlVG9nZXRoZXJXaW5kb3cocHJlZmVyZW5jZSlcclxuXHJcbiAgICB0aGlzLmRldmlzZU1lbnUod2luZG93T2JqZWN0LCBbJ1BsYXknLCAnQm9hcmQnXSlcclxuXHJcbiAgICBsZXQgdGVtcGxhdGVNZW1vcnkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGVtcGxhdGUtbWVtb3J5JykuY29udGVudC5jbG9uZU5vZGUodHJ1ZSlcclxuICAgIGxldCBtZW1vcnlDb250YWluZXIgPSB0ZW1wbGF0ZU1lbW9yeS5xdWVyeVNlbGVjdG9yKCcubWVtb3J5Q29udGFpbmVyJylcclxuICAgIG1lbW9yeUNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2JvYXJkLXNpemUnLCAnMngyJylcclxuICAgIHdpbmRvd09iamVjdC53aW5kb3dFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5kb3ctY29udGVudCcpLmFwcGVuZENoaWxkKG1lbW9yeUNvbnRhaW5lcilcclxuXHJcbiAgICB0aGlzLmRlc2t0b3AucG9wdWxhdGVEZXNrdG9wKHdpbmRvd09iamVjdClcclxuXHJcbiAgICBsZXQgbWVtb3J5ID0gTWVtb3J5KClcclxuICAgIG1lbW9yeS5zZXQod2luZG93T2JqZWN0LmlkKVxyXG4gICAgbWVtb3J5LnJ1bk1lbW9yeSgpXHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gaW5pdGlhbGl6ZS9sYXVuY2ggdGhlIENhbGN1bGF0b3IgYXBwXHJcbiAgICovXHJcbiAgbGF1bmNoQ2FsY3VsYXRvcjogZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHByZWZlcmVuY2UgPSB7XHJcbiAgICAgIGhlaWdodDogMzQ2LFxyXG4gICAgICB3aWR0aDogMjUyLFxyXG4gICAgICBpY29uOiAnLi4vaW1hZ2UvY2FsY3VsYXRvci1ibGFjay5wbmcnLFxyXG4gICAgICB0aXRsZTogJ0NhbGN1bGF0b3InXHJcbiAgICB9XHJcbiAgICBsZXQgd2luZG93T2JqZWN0ID0gdGhpcy5waWVjZVRvZ2V0aGVyV2luZG93KHByZWZlcmVuY2UpXHJcblxyXG4gICAgdGhpcy5kZXZpc2VNZW51KHdpbmRvd09iamVjdCwgWydIaXN0b3J5J10pXHJcblxyXG4gICAgbGV0IHRlbXBsYXRlQ2FsY3VsYXRvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZW1wbGF0ZS1jYWxjdWxhdG9yJykuY29udGVudC5jbG9uZU5vZGUodHJ1ZSlcclxuICAgIGxldCBjYWxjdWxhdG9yQ29udGFpbmVyID0gdGVtcGxhdGVDYWxjdWxhdG9yLnF1ZXJ5U2VsZWN0b3IoJy5jYWxjdWxhdG9yQ29udGFpbmVyJylcclxuICAgIHdpbmRvd09iamVjdC53aW5kb3dFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5kb3ctY29udGVudCcpLmFwcGVuZENoaWxkKGNhbGN1bGF0b3JDb250YWluZXIpXHJcblxyXG4gICAgdGhpcy5kZXNrdG9wLnBvcHVsYXRlRGVza3RvcCh3aW5kb3dPYmplY3QpXHJcblxyXG4gICAgbGV0IGNhbGN1bGF0b3IgPSBDYWxjdWxhdG9yKClcclxuICAgIGNhbGN1bGF0b3Iuc2V0KHdpbmRvd09iamVjdC5pZClcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byB1cGRhdGUgdGhlIGNsb2NrXHJcbiAgICovXHJcbiAgd2hhdElzVGhlVGltZTogZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGRhdGVPcHRpb24gPSB7XHJcbiAgICAgIGhvdXIxMjogZmFsc2UsXHJcbiAgICAgIHllYXI6ICdudW1lcmljJyxcclxuICAgICAgbW9udGg6ICcyLWRpZ2l0JyxcclxuICAgICAgZGF5OiAnMi1kaWdpdCdcclxuICAgIH1cclxuICAgIGxldCB0aW1lT3B0aW9uID0ge1xyXG4gICAgICBob3VyMTI6IGZhbHNlLFxyXG4gICAgICB3ZWVrZGF5OiAnc2hvcnQnLFxyXG4gICAgICBob3VyOiAnMi1kaWdpdCcsXHJcbiAgICAgIG1pbnV0ZTogJzItZGlnaXQnXHJcbiAgICB9XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9vbGJhciAudG9vbGJhci1jbG9jayAudG9vbGJhci1jbG9jay1kYXRlJykudGV4dENvbnRlbnQgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygnc3Ytc2UnLCBkYXRlT3B0aW9uKVxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Rvb2xiYXIgLnRvb2xiYXItY2xvY2sgLnRvb2xiYXItY2xvY2stdGltZScpLnRleHRDb250ZW50ID0gbmV3IERhdGUoKS50b0xvY2FsZVRpbWVTdHJpbmcoJ3N2LXNlJywgdGltZU9wdGlvbilcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb25zdHJ1Y3RvciBmb3IgdGhlIFRvb2xiYXJcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5sZXQgVG9vbGJhciA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gT2JqZWN0LmNyZWF0ZSh0b29sYmFyQmFzZSwge1xyXG4gICAgJ2Rlc2t0b3AnOiB7dmFsdWU6IHVuZGVmaW5lZCwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX1cclxuICB9KVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFRvb2xiYXJcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvanMvVG9vbGJhci5qc1xuLy8gbW9kdWxlIGlkID0gMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n");

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* jshint asi: true, browser: true, expr: true, node: true, esversion: 6 */\r\n\r\n\r\n\r\nconst desktopBase = {\r\n\r\n  /**\r\n   * Function to initialize the event listeners\r\n   */\r\n  initEventListeners: function () {\r\n    document.addEventListener('click', this.onClick.bind(this))\r\n    document.querySelector('#desktop').addEventListener('mousedown', this.mouseDown.bind(this))\r\n  },\r\n\r\n  /**\r\n   * Function to handle the mouse click events\r\n   */\r\n  onClick: function (event) {\r\n    if (event.target.nodeName === document.body.parentElement.nodeName) {\r\n      document.activeElement.blur()\r\n\r\n      let active = document.querySelectorAll('#desktop .active')\r\n\r\n      for (let i = 0; i < active.length; i++) {\r\n        active[i].classList.toggle('active')\r\n      }\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Function to handle the mouse down events\r\n   */\r\n  mouseDown: function (event) {\r\n    if (this.buttonPressed(event, 1)) {\r\n      event.stopPropagation()\r\n      event.preventDefault()\r\n      let id = this.getWindowID(event.target)\r\n      let windowElement = document.querySelector(`#${id}`)\r\n      this.bringToFront(windowElement)\r\n      this.activateFocus(windowElement)\r\n\r\n      if (event.target.parentElement.parentElement.classList.contains('window-title')) {\r\n        this.doWindowTitleAction(windowElement, event.target)\r\n      // } else if (event.target.classList.contains('resizer:not(.disabled)')) { // TODO: Fix the resizer!\r\n      } else if (event.target.parentElement.classList.contains('menuMemory')) {\r\n        if (event.target.classList.contains('play')) {\r\n          let boardSize = windowElement.querySelector('.memoryContainer').getAttribute('board-size')\r\n          if (boardSize === '4x4') {\r\n            windowElement.style.height = 550 + 'px'\r\n            windowElement.style.width = 496 + 'px'\r\n          } else if (boardSize === '4x2') {\r\n            windowElement.style.height = 550 + 'px'\r\n            windowElement.style.width = 248 + 'px'\r\n          } else if (boardSize === '2x4') {\r\n            windowElement.style.height = 296 + 'px'\r\n            windowElement.style.width = 496 + 'px'\r\n          } else {\r\n            windowElement.style.height = 296 + 'px'\r\n            windowElement.style.width = 248 + 'px'\r\n          }\r\n        }\r\n      } else {\r\n        if (event.target.parentElement.classList.contains('window-title')) {\r\n          if (!windowElement.classList.contains('maximized')) {\r\n            this.dragElement(windowElement, event.target)\r\n            event.target.onmousedown()\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Function to traverse up the DOM untill it finds the window element and then gets that id\r\n   * @param {DOMelement} element A element\r\n   */\r\n  getWindowID: function (element) {\r\n    let el = element\r\n    let found = false\r\n    while (!found) {\r\n      if (el.classList.contains('window-frame')) {\r\n        found = true\r\n      } else {\r\n        el = el.parentNode\r\n      }\r\n    }\r\n    return el.id\r\n  },\r\n\r\n  /**\r\n   * Function to handle the window standard buttons like minimize, maximize and close\r\n   * @param {DOMelement} windowElement The window element\r\n   * @param {DOMelement} eventTarget The button element\r\n   */\r\n  doWindowTitleAction: function (windowElement, eventTarget) {\r\n    if (eventTarget.classList.contains('disabled')) { return }\r\n    let classes = eventTarget.className.split(/\\s+/)\r\n    for (let i = 0; i < classes.length; i++) {\r\n      if (classes[i].search('close') > -1) {\r\n        windowElement.remove()\r\n      } else if (classes[i].search('maximize') > -1) {\r\n        windowElement.classList.add('maximized')\r\n        windowElement.classList.remove('restored')\r\n        eventTarget.classList.add('sprite-restore-black')\r\n        eventTarget.classList.remove('sprite-maximize-black')\r\n      } else if (classes[i].search('restore') > -1) {\r\n        windowElement.classList.add('restored')\r\n        windowElement.classList.remove('maximized')\r\n        eventTarget.classList.add('sprite-maximize-black')\r\n        eventTarget.classList.remove('sprite-restore-black')\r\n        setTimeout(() => {\r\n          windowElement.classList.remove('restored')\r\n        }, 123)\r\n      } else if (classes[i].search('minimize') > -1) { // TODO: Fix the minimizer!\r\n        // windowElement.classList.toggle('minimized')\r\n      }\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Checks that the mouse button is pressed\r\n   * @param {event} event The event\r\n   * @param {int} button What button to check\r\n   */\r\n  buttonPressed: function (event, button) {\r\n    if (event.buttons === null) {\r\n      return event.which === button\r\n    } else {\r\n      return event.buttons === button\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Allows draging of the element\r\n   * @param {DOMelement} windowElement The window element\r\n   * @param {DOMelement} eventTarget The event target\r\n   */\r\n  dragElement: function (windowElement, eventTarget) {\r\n    let diffX = 0\r\n    let diffY = 0\r\n    let prevX = 0\r\n    let prevY = 0\r\n    let nextX = 0\r\n    let nextY = 0\r\n\r\n    let rect = windowElement.getBoundingClientRect()\r\n    let width = rect.width\r\n    let height = rect.height\r\n    let windowWidth = window.innerWidth\r\n    let windowHeight = window.innerHeight\r\n\r\n    eventTarget.onmousedown = dragMouseDown\r\n\r\n    function dragMouseDown (event) {\r\n      event = event || window.event\r\n      document.onmouseup = closeDragElement\r\n      prevX = event.clientX\r\n      prevY = event.clientY\r\n      document.onmousemove = elementDrag\r\n    }\r\n\r\n    function elementDrag (event) {\r\n      event = event || window.event\r\n      diffX = prevX - event.clientX\r\n      diffY = prevY - event.clientY\r\n      prevX = event.clientX\r\n      prevY = event.clientY\r\n      nextX = windowElement.offsetLeft - diffX\r\n      nextY = windowElement.offsetTop - diffY\r\n      if (checkBoundaries()) {\r\n        windowElement.style.left = nextX + 'px'\r\n        windowElement.style.top = nextY + 'px'\r\n      } else if (!checkBoundaries('left')) {\r\n        windowElement.style.left = 1 + 'px'\r\n      } else if (!checkBoundaries('top')) {\r\n        windowElement.style.top = 1 + 'px'\r\n      } else if (!checkBoundaries('right')) {\r\n        windowElement.style.left = windowWidth - width - 1 + 'px'\r\n      } else if (!checkBoundaries('bottom')) {\r\n        windowElement.style.top = windowHeight - 52 - height - 1 + 'px'\r\n      }\r\n    }\r\n\r\n    function checkBoundaries (directions) {\r\n      let left = nextX\r\n      let top = nextY\r\n      let right = nextX + width\r\n      let bottom = nextY + height\r\n\r\n      if (directions === 'left') {\r\n        return (left > 1)\r\n      } else if (directions === 'top') {\r\n        return (top > 1)\r\n      } else if (directions === 'right') {\r\n        return (right + 1 < windowWidth)\r\n      } else if (directions === 'bottom') {\r\n        return (bottom + 52 + 1 < windowHeight)\r\n      } else {\r\n        return (left > 0 && top > 0 && right + 1 < windowWidth && bottom + 52 + 1 < windowHeight)\r\n      }\r\n    }\r\n\r\n    function closeDragElement () {\r\n      document.onmousemove = null\r\n      eventTarget.onmousedown = null\r\n      document.onmouseup = null\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Adding the window element to desktop DOM\r\n   * @param {Object} windowObject The window object\r\n   */\r\n  populateDesktop: function (windowObject) {\r\n    let element = windowObject.windowElement\r\n    element.style.left = X(windowObject.width) + 'px'\r\n    element.style.top = Y(windowObject.height) + 'px'\r\n    element.style.zIndex = Z(element)\r\n    document.querySelector('#desktop').appendChild(element)\r\n    let windowElement = document.querySelector(`#${element.id}`)\r\n    this.bringToFront(windowElement)\r\n    this.activateFocus(windowElement)\r\n  },\r\n\r\n  /**\r\n   * Sets the z-index to the highest\r\n   * @param {DOMelement} windowElement The window element\r\n   */\r\n  bringToFront: function (windowElement) {\r\n    windowElement.style.zIndex = Z(windowElement)\r\n  },\r\n\r\n  /**\r\n   * Set focus to the window element\r\n   * @param {DOMelement} windowElement The window element\r\n   */\r\n  activateFocus: function (windowElement) {\r\n    document.activeElement.blur()\r\n\r\n    let active = document.querySelectorAll('#desktop .active')\r\n\r\n    for (let i = 0; i < active.length; i++) {\r\n      active[i].classList.toggle('active')\r\n    }\r\n    windowElement.querySelector('.window-title').classList.toggle('active')\r\n\r\n    let elements = windowElement.querySelectorAll('.window-content *')\r\n    for (let i = 0; i < elements.length; i++) {\r\n      elements[i].focus()\r\n      if (!(document.activeElement === document.querySelector('body') || document.activeElement === null)) {\r\n        return\r\n      }\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Reset the cordinate counters\r\n   */\r\n  resetXYZ: function () {\r\n    X('', true)\r\n    Y('', true)\r\n    Z('', true)\r\n  }\r\n}\r\n\r\n/**\r\n * Constructor for the Desktop\r\n * @constructor\r\n */\r\nlet Desktop = function () {\r\n  return Object.create(desktopBase, {\r\n  })\r\n}\r\n\r\n/**\r\n * Static function for the X cordinate\r\n * @param {int} width The window width\r\n * @param {boolean} reset\r\n * @return {int} The X cordinate\r\n */\r\nfunction X (width, reset) {\r\n  let n = 25\r\n\r\n  if (reset) {\r\n    X.counter = n\r\n    X.no = 1\r\n  } else {\r\n    if (typeof X.counter === 'undefined') {\r\n      X.counter = n\r\n      X.no = 1\r\n    }\r\n\r\n    X.counter += n\r\n\r\n    if ((X.counter + width) > window.innerWidth) {\r\n      X.no++\r\n      X.counter = n * X.no\r\n    }\r\n\r\n    return X.counter\r\n  }\r\n}\r\n\r\n/**\r\n * Static function for the Y cordinate\r\n * @param {int} height The window height\r\n * @param {boolean} reset\r\n * @return {int} The Y cordinate\r\n */\r\nfunction Y (height, reset) {\r\n  let n = 25\r\n\r\n  if (reset) {\r\n    Y.counter = n\r\n    Y.no = 1\r\n  } else {\r\n    if (typeof Y.counter === 'undefined') {\r\n      Y.counter = n\r\n      Y.no = 1\r\n    }\r\n\r\n    Y.counter += n\r\n\r\n    if ((Y.counter + height) > window.innerHeight) {\r\n      Y.no++\r\n      Y.counter = n * Y.no\r\n    }\r\n\r\n    return Y.counter\r\n  }\r\n}\r\n\r\n/**\r\n * Static function for the Z cordinate\r\n * @param {DOMelement} element The window element\r\n * @param {boolean} reset\r\n * @return {int} The Z cordinate\r\n */\r\nfunction Z (element, reset) {\r\n  if (reset) {\r\n    Z.counter = 0\r\n  } else {\r\n    if (typeof Z.counter === 'undefined') {\r\n      Z.counter = 0\r\n    }\r\n    if (element !== 'undefined' && parseInt(element.style.zIndex) === Z.counter) {\r\n      return Z.counter\r\n    } else {\r\n      return ++Z.counter\r\n    }\r\n  }\r\n}\r\n\r\nmodule.exports = Desktop\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9EZXNrdG9wLmpzP2NiN2EiXSwic291cmNlc0NvbnRlbnQiOlsiLyoganNoaW50IGFzaTogdHJ1ZSwgYnJvd3NlcjogdHJ1ZSwgZXhwcjogdHJ1ZSwgbm9kZTogdHJ1ZSwgZXN2ZXJzaW9uOiA2ICovXHJcblxyXG4ndXNlIHN0cmljdCdcclxuXHJcbmNvbnN0IGRlc2t0b3BCYXNlID0ge1xyXG5cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBpbml0aWFsaXplIHRoZSBldmVudCBsaXN0ZW5lcnNcclxuICAgKi9cclxuICBpbml0RXZlbnRMaXN0ZW5lcnM6IGZ1bmN0aW9uICgpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vbkNsaWNrLmJpbmQodGhpcykpXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVza3RvcCcpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMubW91c2VEb3duLmJpbmQodGhpcykpXHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gaGFuZGxlIHRoZSBtb3VzZSBjbGljayBldmVudHNcclxuICAgKi9cclxuICBvbkNsaWNrOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGlmIChldmVudC50YXJnZXQubm9kZU5hbWUgPT09IGRvY3VtZW50LmJvZHkucGFyZW50RWxlbWVudC5ub2RlTmFtZSkge1xyXG4gICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmJsdXIoKVxyXG5cclxuICAgICAgbGV0IGFjdGl2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNkZXNrdG9wIC5hY3RpdmUnKVxyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY3RpdmUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBhY3RpdmVbaV0uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIGhhbmRsZSB0aGUgbW91c2UgZG93biBldmVudHNcclxuICAgKi9cclxuICBtb3VzZURvd246IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgaWYgKHRoaXMuYnV0dG9uUHJlc3NlZChldmVudCwgMSkpIHtcclxuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gICAgICBsZXQgaWQgPSB0aGlzLmdldFdpbmRvd0lEKGV2ZW50LnRhcmdldClcclxuICAgICAgbGV0IHdpbmRvd0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpZH1gKVxyXG4gICAgICB0aGlzLmJyaW5nVG9Gcm9udCh3aW5kb3dFbGVtZW50KVxyXG4gICAgICB0aGlzLmFjdGl2YXRlRm9jdXMod2luZG93RWxlbWVudClcclxuXHJcbiAgICAgIGlmIChldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnd2luZG93LXRpdGxlJykpIHtcclxuICAgICAgICB0aGlzLmRvV2luZG93VGl0bGVBY3Rpb24od2luZG93RWxlbWVudCwgZXZlbnQudGFyZ2V0KVxyXG4gICAgICAvLyB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2l6ZXI6bm90KC5kaXNhYmxlZCknKSkgeyAvLyBUT0RPOiBGaXggdGhlIHJlc2l6ZXIhXHJcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtZW51TWVtb3J5JykpIHtcclxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncGxheScpKSB7XHJcbiAgICAgICAgICBsZXQgYm9hcmRTaXplID0gd2luZG93RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubWVtb3J5Q29udGFpbmVyJykuZ2V0QXR0cmlidXRlKCdib2FyZC1zaXplJylcclxuICAgICAgICAgIGlmIChib2FyZFNpemUgPT09ICc0eDQnKSB7XHJcbiAgICAgICAgICAgIHdpbmRvd0VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gNTUwICsgJ3B4J1xyXG4gICAgICAgICAgICB3aW5kb3dFbGVtZW50LnN0eWxlLndpZHRoID0gNDk2ICsgJ3B4J1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChib2FyZFNpemUgPT09ICc0eDInKSB7XHJcbiAgICAgICAgICAgIHdpbmRvd0VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gNTUwICsgJ3B4J1xyXG4gICAgICAgICAgICB3aW5kb3dFbGVtZW50LnN0eWxlLndpZHRoID0gMjQ4ICsgJ3B4J1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChib2FyZFNpemUgPT09ICcyeDQnKSB7XHJcbiAgICAgICAgICAgIHdpbmRvd0VsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gMjk2ICsgJ3B4J1xyXG4gICAgICAgICAgICB3aW5kb3dFbGVtZW50LnN0eWxlLndpZHRoID0gNDk2ICsgJ3B4J1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2luZG93RWxlbWVudC5zdHlsZS5oZWlnaHQgPSAyOTYgKyAncHgnXHJcbiAgICAgICAgICAgIHdpbmRvd0VsZW1lbnQuc3R5bGUud2lkdGggPSAyNDggKyAncHgnXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3dpbmRvdy10aXRsZScpKSB7XHJcbiAgICAgICAgICBpZiAoIXdpbmRvd0VsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdtYXhpbWl6ZWQnKSkge1xyXG4gICAgICAgICAgICB0aGlzLmRyYWdFbGVtZW50KHdpbmRvd0VsZW1lbnQsIGV2ZW50LnRhcmdldClcclxuICAgICAgICAgICAgZXZlbnQudGFyZ2V0Lm9ubW91c2Vkb3duKClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byB0cmF2ZXJzZSB1cCB0aGUgRE9NIHVudGlsbCBpdCBmaW5kcyB0aGUgd2luZG93IGVsZW1lbnQgYW5kIHRoZW4gZ2V0cyB0aGF0IGlkXHJcbiAgICogQHBhcmFtIHtET01lbGVtZW50fSBlbGVtZW50IEEgZWxlbWVudFxyXG4gICAqL1xyXG4gIGdldFdpbmRvd0lEOiBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgbGV0IGVsID0gZWxlbWVudFxyXG4gICAgbGV0IGZvdW5kID0gZmFsc2VcclxuICAgIHdoaWxlICghZm91bmQpIHtcclxuICAgICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnd2luZG93LWZyYW1lJykpIHtcclxuICAgICAgICBmb3VuZCA9IHRydWVcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlbCA9IGVsLnBhcmVudE5vZGVcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVsLmlkXHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gaGFuZGxlIHRoZSB3aW5kb3cgc3RhbmRhcmQgYnV0dG9ucyBsaWtlIG1pbmltaXplLCBtYXhpbWl6ZSBhbmQgY2xvc2VcclxuICAgKiBAcGFyYW0ge0RPTWVsZW1lbnR9IHdpbmRvd0VsZW1lbnQgVGhlIHdpbmRvdyBlbGVtZW50XHJcbiAgICogQHBhcmFtIHtET01lbGVtZW50fSBldmVudFRhcmdldCBUaGUgYnV0dG9uIGVsZW1lbnRcclxuICAgKi9cclxuICBkb1dpbmRvd1RpdGxlQWN0aW9uOiBmdW5jdGlvbiAod2luZG93RWxlbWVudCwgZXZlbnRUYXJnZXQpIHtcclxuICAgIGlmIChldmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2Rpc2FibGVkJykpIHsgcmV0dXJuIH1cclxuICAgIGxldCBjbGFzc2VzID0gZXZlbnRUYXJnZXQuY2xhc3NOYW1lLnNwbGl0KC9cXHMrLylcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xhc3Nlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoY2xhc3Nlc1tpXS5zZWFyY2goJ2Nsb3NlJykgPiAtMSkge1xyXG4gICAgICAgIHdpbmRvd0VsZW1lbnQucmVtb3ZlKClcclxuICAgICAgfSBlbHNlIGlmIChjbGFzc2VzW2ldLnNlYXJjaCgnbWF4aW1pemUnKSA+IC0xKSB7XHJcbiAgICAgICAgd2luZG93RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdtYXhpbWl6ZWQnKVxyXG4gICAgICAgIHdpbmRvd0VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncmVzdG9yZWQnKVxyXG4gICAgICAgIGV2ZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3Nwcml0ZS1yZXN0b3JlLWJsYWNrJylcclxuICAgICAgICBldmVudFRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdzcHJpdGUtbWF4aW1pemUtYmxhY2snKVxyXG4gICAgICB9IGVsc2UgaWYgKGNsYXNzZXNbaV0uc2VhcmNoKCdyZXN0b3JlJykgPiAtMSkge1xyXG4gICAgICAgIHdpbmRvd0VsZW1lbnQuY2xhc3NMaXN0LmFkZCgncmVzdG9yZWQnKVxyXG4gICAgICAgIHdpbmRvd0VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnbWF4aW1pemVkJylcclxuICAgICAgICBldmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKCdzcHJpdGUtbWF4aW1pemUtYmxhY2snKVxyXG4gICAgICAgIGV2ZW50VGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ3Nwcml0ZS1yZXN0b3JlLWJsYWNrJylcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgIHdpbmRvd0VsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncmVzdG9yZWQnKVxyXG4gICAgICAgIH0sIDEyMylcclxuICAgICAgfSBlbHNlIGlmIChjbGFzc2VzW2ldLnNlYXJjaCgnbWluaW1pemUnKSA+IC0xKSB7IC8vIFRPRE86IEZpeCB0aGUgbWluaW1pemVyIVxyXG4gICAgICAgIC8vIHdpbmRvd0VsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnbWluaW1pemVkJylcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrcyB0aGF0IHRoZSBtb3VzZSBidXR0b24gaXMgcHJlc3NlZFxyXG4gICAqIEBwYXJhbSB7ZXZlbnR9IGV2ZW50IFRoZSBldmVudFxyXG4gICAqIEBwYXJhbSB7aW50fSBidXR0b24gV2hhdCBidXR0b24gdG8gY2hlY2tcclxuICAgKi9cclxuICBidXR0b25QcmVzc2VkOiBmdW5jdGlvbiAoZXZlbnQsIGJ1dHRvbikge1xyXG4gICAgaWYgKGV2ZW50LmJ1dHRvbnMgPT09IG51bGwpIHtcclxuICAgICAgcmV0dXJuIGV2ZW50LndoaWNoID09PSBidXR0b25cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBldmVudC5idXR0b25zID09PSBidXR0b25cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBBbGxvd3MgZHJhZ2luZyBvZiB0aGUgZWxlbWVudFxyXG4gICAqIEBwYXJhbSB7RE9NZWxlbWVudH0gd2luZG93RWxlbWVudCBUaGUgd2luZG93IGVsZW1lbnRcclxuICAgKiBAcGFyYW0ge0RPTWVsZW1lbnR9IGV2ZW50VGFyZ2V0IFRoZSBldmVudCB0YXJnZXRcclxuICAgKi9cclxuICBkcmFnRWxlbWVudDogZnVuY3Rpb24gKHdpbmRvd0VsZW1lbnQsIGV2ZW50VGFyZ2V0KSB7XHJcbiAgICBsZXQgZGlmZlggPSAwXHJcbiAgICBsZXQgZGlmZlkgPSAwXHJcbiAgICBsZXQgcHJldlggPSAwXHJcbiAgICBsZXQgcHJldlkgPSAwXHJcbiAgICBsZXQgbmV4dFggPSAwXHJcbiAgICBsZXQgbmV4dFkgPSAwXHJcblxyXG4gICAgbGV0IHJlY3QgPSB3aW5kb3dFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXHJcbiAgICBsZXQgd2lkdGggPSByZWN0LndpZHRoXHJcbiAgICBsZXQgaGVpZ2h0ID0gcmVjdC5oZWlnaHRcclxuICAgIGxldCB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXHJcbiAgICBsZXQgd2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0XHJcblxyXG4gICAgZXZlbnRUYXJnZXQub25tb3VzZWRvd24gPSBkcmFnTW91c2VEb3duXHJcblxyXG4gICAgZnVuY3Rpb24gZHJhZ01vdXNlRG93biAoZXZlbnQpIHtcclxuICAgICAgZXZlbnQgPSBldmVudCB8fCB3aW5kb3cuZXZlbnRcclxuICAgICAgZG9jdW1lbnQub25tb3VzZXVwID0gY2xvc2VEcmFnRWxlbWVudFxyXG4gICAgICBwcmV2WCA9IGV2ZW50LmNsaWVudFhcclxuICAgICAgcHJldlkgPSBldmVudC5jbGllbnRZXHJcbiAgICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gZWxlbWVudERyYWdcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBlbGVtZW50RHJhZyAoZXZlbnQpIHtcclxuICAgICAgZXZlbnQgPSBldmVudCB8fCB3aW5kb3cuZXZlbnRcclxuICAgICAgZGlmZlggPSBwcmV2WCAtIGV2ZW50LmNsaWVudFhcclxuICAgICAgZGlmZlkgPSBwcmV2WSAtIGV2ZW50LmNsaWVudFlcclxuICAgICAgcHJldlggPSBldmVudC5jbGllbnRYXHJcbiAgICAgIHByZXZZID0gZXZlbnQuY2xpZW50WVxyXG4gICAgICBuZXh0WCA9IHdpbmRvd0VsZW1lbnQub2Zmc2V0TGVmdCAtIGRpZmZYXHJcbiAgICAgIG5leHRZID0gd2luZG93RWxlbWVudC5vZmZzZXRUb3AgLSBkaWZmWVxyXG4gICAgICBpZiAoY2hlY2tCb3VuZGFyaWVzKCkpIHtcclxuICAgICAgICB3aW5kb3dFbGVtZW50LnN0eWxlLmxlZnQgPSBuZXh0WCArICdweCdcclxuICAgICAgICB3aW5kb3dFbGVtZW50LnN0eWxlLnRvcCA9IG5leHRZICsgJ3B4J1xyXG4gICAgICB9IGVsc2UgaWYgKCFjaGVja0JvdW5kYXJpZXMoJ2xlZnQnKSkge1xyXG4gICAgICAgIHdpbmRvd0VsZW1lbnQuc3R5bGUubGVmdCA9IDEgKyAncHgnXHJcbiAgICAgIH0gZWxzZSBpZiAoIWNoZWNrQm91bmRhcmllcygndG9wJykpIHtcclxuICAgICAgICB3aW5kb3dFbGVtZW50LnN0eWxlLnRvcCA9IDEgKyAncHgnXHJcbiAgICAgIH0gZWxzZSBpZiAoIWNoZWNrQm91bmRhcmllcygncmlnaHQnKSkge1xyXG4gICAgICAgIHdpbmRvd0VsZW1lbnQuc3R5bGUubGVmdCA9IHdpbmRvd1dpZHRoIC0gd2lkdGggLSAxICsgJ3B4J1xyXG4gICAgICB9IGVsc2UgaWYgKCFjaGVja0JvdW5kYXJpZXMoJ2JvdHRvbScpKSB7XHJcbiAgICAgICAgd2luZG93RWxlbWVudC5zdHlsZS50b3AgPSB3aW5kb3dIZWlnaHQgLSA1MiAtIGhlaWdodCAtIDEgKyAncHgnXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjaGVja0JvdW5kYXJpZXMgKGRpcmVjdGlvbnMpIHtcclxuICAgICAgbGV0IGxlZnQgPSBuZXh0WFxyXG4gICAgICBsZXQgdG9wID0gbmV4dFlcclxuICAgICAgbGV0IHJpZ2h0ID0gbmV4dFggKyB3aWR0aFxyXG4gICAgICBsZXQgYm90dG9tID0gbmV4dFkgKyBoZWlnaHRcclxuXHJcbiAgICAgIGlmIChkaXJlY3Rpb25zID09PSAnbGVmdCcpIHtcclxuICAgICAgICByZXR1cm4gKGxlZnQgPiAxKVxyXG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbnMgPT09ICd0b3AnKSB7XHJcbiAgICAgICAgcmV0dXJuICh0b3AgPiAxKVxyXG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbnMgPT09ICdyaWdodCcpIHtcclxuICAgICAgICByZXR1cm4gKHJpZ2h0ICsgMSA8IHdpbmRvd1dpZHRoKVxyXG4gICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbnMgPT09ICdib3R0b20nKSB7XHJcbiAgICAgICAgcmV0dXJuIChib3R0b20gKyA1MiArIDEgPCB3aW5kb3dIZWlnaHQpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIChsZWZ0ID4gMCAmJiB0b3AgPiAwICYmIHJpZ2h0ICsgMSA8IHdpbmRvd1dpZHRoICYmIGJvdHRvbSArIDUyICsgMSA8IHdpbmRvd0hlaWdodClcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsb3NlRHJhZ0VsZW1lbnQgKCkge1xyXG4gICAgICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IG51bGxcclxuICAgICAgZXZlbnRUYXJnZXQub25tb3VzZWRvd24gPSBudWxsXHJcbiAgICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IG51bGxcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBBZGRpbmcgdGhlIHdpbmRvdyBlbGVtZW50IHRvIGRlc2t0b3AgRE9NXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IHdpbmRvd09iamVjdCBUaGUgd2luZG93IG9iamVjdFxyXG4gICAqL1xyXG4gIHBvcHVsYXRlRGVza3RvcDogZnVuY3Rpb24gKHdpbmRvd09iamVjdCkge1xyXG4gICAgbGV0IGVsZW1lbnQgPSB3aW5kb3dPYmplY3Qud2luZG93RWxlbWVudFxyXG4gICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gWCh3aW5kb3dPYmplY3Qud2lkdGgpICsgJ3B4J1xyXG4gICAgZWxlbWVudC5zdHlsZS50b3AgPSBZKHdpbmRvd09iamVjdC5oZWlnaHQpICsgJ3B4J1xyXG4gICAgZWxlbWVudC5zdHlsZS56SW5kZXggPSBaKGVsZW1lbnQpXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVza3RvcCcpLmFwcGVuZENoaWxkKGVsZW1lbnQpXHJcbiAgICBsZXQgd2luZG93RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2VsZW1lbnQuaWR9YClcclxuICAgIHRoaXMuYnJpbmdUb0Zyb250KHdpbmRvd0VsZW1lbnQpXHJcbiAgICB0aGlzLmFjdGl2YXRlRm9jdXMod2luZG93RWxlbWVudClcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSB6LWluZGV4IHRvIHRoZSBoaWdoZXN0XHJcbiAgICogQHBhcmFtIHtET01lbGVtZW50fSB3aW5kb3dFbGVtZW50IFRoZSB3aW5kb3cgZWxlbWVudFxyXG4gICAqL1xyXG4gIGJyaW5nVG9Gcm9udDogZnVuY3Rpb24gKHdpbmRvd0VsZW1lbnQpIHtcclxuICAgIHdpbmRvd0VsZW1lbnQuc3R5bGUuekluZGV4ID0gWih3aW5kb3dFbGVtZW50KVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCBmb2N1cyB0byB0aGUgd2luZG93IGVsZW1lbnRcclxuICAgKiBAcGFyYW0ge0RPTWVsZW1lbnR9IHdpbmRvd0VsZW1lbnQgVGhlIHdpbmRvdyBlbGVtZW50XHJcbiAgICovXHJcbiAgYWN0aXZhdGVGb2N1czogZnVuY3Rpb24gKHdpbmRvd0VsZW1lbnQpIHtcclxuICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1cigpXHJcblxyXG4gICAgbGV0IGFjdGl2ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNkZXNrdG9wIC5hY3RpdmUnKVxyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGFjdGl2ZVtpXS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnKVxyXG4gICAgfVxyXG4gICAgd2luZG93RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcud2luZG93LXRpdGxlJykuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJylcclxuXHJcbiAgICBsZXQgZWxlbWVudHMgPSB3aW5kb3dFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy53aW5kb3ctY29udGVudCAqJylcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgZWxlbWVudHNbaV0uZm9jdXMoKVxyXG4gICAgICBpZiAoIShkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykgfHwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbnVsbCkpIHtcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc2V0IHRoZSBjb3JkaW5hdGUgY291bnRlcnNcclxuICAgKi9cclxuICByZXNldFhZWjogZnVuY3Rpb24gKCkge1xyXG4gICAgWCgnJywgdHJ1ZSlcclxuICAgIFkoJycsIHRydWUpXHJcbiAgICBaKCcnLCB0cnVlKVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnN0cnVjdG9yIGZvciB0aGUgRGVza3RvcFxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbmxldCBEZXNrdG9wID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBPYmplY3QuY3JlYXRlKGRlc2t0b3BCYXNlLCB7XHJcbiAgfSlcclxufVxyXG5cclxuLyoqXHJcbiAqIFN0YXRpYyBmdW5jdGlvbiBmb3IgdGhlIFggY29yZGluYXRlXHJcbiAqIEBwYXJhbSB7aW50fSB3aWR0aCBUaGUgd2luZG93IHdpZHRoXHJcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVzZXRcclxuICogQHJldHVybiB7aW50fSBUaGUgWCBjb3JkaW5hdGVcclxuICovXHJcbmZ1bmN0aW9uIFggKHdpZHRoLCByZXNldCkge1xyXG4gIGxldCBuID0gMjVcclxuXHJcbiAgaWYgKHJlc2V0KSB7XHJcbiAgICBYLmNvdW50ZXIgPSBuXHJcbiAgICBYLm5vID0gMVxyXG4gIH0gZWxzZSB7XHJcbiAgICBpZiAodHlwZW9mIFguY291bnRlciA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgWC5jb3VudGVyID0gblxyXG4gICAgICBYLm5vID0gMVxyXG4gICAgfVxyXG5cclxuICAgIFguY291bnRlciArPSBuXHJcblxyXG4gICAgaWYgKChYLmNvdW50ZXIgKyB3aWR0aCkgPiB3aW5kb3cuaW5uZXJXaWR0aCkge1xyXG4gICAgICBYLm5vKytcclxuICAgICAgWC5jb3VudGVyID0gbiAqIFgubm9cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gWC5jb3VudGVyXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogU3RhdGljIGZ1bmN0aW9uIGZvciB0aGUgWSBjb3JkaW5hdGVcclxuICogQHBhcmFtIHtpbnR9IGhlaWdodCBUaGUgd2luZG93IGhlaWdodFxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHJlc2V0XHJcbiAqIEByZXR1cm4ge2ludH0gVGhlIFkgY29yZGluYXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBZIChoZWlnaHQsIHJlc2V0KSB7XHJcbiAgbGV0IG4gPSAyNVxyXG5cclxuICBpZiAocmVzZXQpIHtcclxuICAgIFkuY291bnRlciA9IG5cclxuICAgIFkubm8gPSAxXHJcbiAgfSBlbHNlIHtcclxuICAgIGlmICh0eXBlb2YgWS5jb3VudGVyID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBZLmNvdW50ZXIgPSBuXHJcbiAgICAgIFkubm8gPSAxXHJcbiAgICB9XHJcblxyXG4gICAgWS5jb3VudGVyICs9IG5cclxuXHJcbiAgICBpZiAoKFkuY291bnRlciArIGhlaWdodCkgPiB3aW5kb3cuaW5uZXJIZWlnaHQpIHtcclxuICAgICAgWS5ubysrXHJcbiAgICAgIFkuY291bnRlciA9IG4gKiBZLm5vXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIFkuY291bnRlclxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFN0YXRpYyBmdW5jdGlvbiBmb3IgdGhlIFogY29yZGluYXRlXHJcbiAqIEBwYXJhbSB7RE9NZWxlbWVudH0gZWxlbWVudCBUaGUgd2luZG93IGVsZW1lbnRcclxuICogQHBhcmFtIHtib29sZWFufSByZXNldFxyXG4gKiBAcmV0dXJuIHtpbnR9IFRoZSBaIGNvcmRpbmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gWiAoZWxlbWVudCwgcmVzZXQpIHtcclxuICBpZiAocmVzZXQpIHtcclxuICAgIFouY291bnRlciA9IDBcclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKHR5cGVvZiBaLmNvdW50ZXIgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgIFouY291bnRlciA9IDBcclxuICAgIH1cclxuICAgIGlmIChlbGVtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBwYXJzZUludChlbGVtZW50LnN0eWxlLnpJbmRleCkgPT09IFouY291bnRlcikge1xyXG4gICAgICByZXR1cm4gWi5jb3VudGVyXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gKytaLmNvdW50ZXJcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gRGVza3RvcFxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9qcy9EZXNrdG9wLmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n");

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* jshint asi: true, browser: true, expr: true, node: true, esversion: 6 */\r\n\r\n\r\n\r\nconst templateWindowBase = {\r\n\r\n  /**\r\n   * Function to set the basics\r\n   * @param {Object} preference The preferences for the new window element\r\n   */\r\n  set: function (preference) {\r\n    this.height = preference.height || 300\r\n    this.width = preference.width || 200\r\n    this.icon = preference.icon || '../image/emoticon-poop-black.png'\r\n    this.title = preference.title || 'Window title'\r\n    this.id = 'ID-' + this.uuidv4()\r\n    this.windowElement = this.assembleWindow()\r\n  },\r\n\r\n  /**\r\n   * Function to generate the windowElement\r\n   * @return {DOMelement} The windowElement\r\n   */\r\n  assembleWindow: function () {\r\n    let templateWindow = document.querySelector('#template-window').content.cloneNode(true)\r\n    let newWindow = templateWindow.querySelector('.window-frame')\r\n    newWindow.id = this.id\r\n    newWindow.style.width = this.width + 'px'\r\n    newWindow.style.height = this.height + 'px'\r\n    newWindow.querySelector('.window-title img').src = this.icon\r\n    newWindow.querySelector('.window-title span').textContent = this.title\r\n    return newWindow\r\n  },\r\n\r\n  /**\r\n   * Function to generate a uniq id\r\n   * @return {string} The id\r\n   */\r\n  uuidv4: function () {\r\n    return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>\r\n      (c ^ window.crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * Constructor for a Template Window\r\n * @constructor\r\n */\r\nlet TemplateWindow = function () {\r\n  return Object.create(templateWindowBase, {\r\n    'height': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'width': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'icon': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'title': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'id': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'windowElement': {value: undefined, writable: true, enumerable: true, configurable: true}\r\n  })\r\n}\r\n\r\nmodule.exports = TemplateWindow\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9UZW1wbGF0ZVdpbmRvdy5qcz8yYjJjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIGpzaGludCBhc2k6IHRydWUsIGJyb3dzZXI6IHRydWUsIGV4cHI6IHRydWUsIG5vZGU6IHRydWUsIGVzdmVyc2lvbjogNiAqL1xyXG5cclxuJ3VzZSBzdHJpY3QnXHJcblxyXG5jb25zdCB0ZW1wbGF0ZVdpbmRvd0Jhc2UgPSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIHNldCB0aGUgYmFzaWNzXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IHByZWZlcmVuY2UgVGhlIHByZWZlcmVuY2VzIGZvciB0aGUgbmV3IHdpbmRvdyBlbGVtZW50XHJcbiAgICovXHJcbiAgc2V0OiBmdW5jdGlvbiAocHJlZmVyZW5jZSkge1xyXG4gICAgdGhpcy5oZWlnaHQgPSBwcmVmZXJlbmNlLmhlaWdodCB8fCAzMDBcclxuICAgIHRoaXMud2lkdGggPSBwcmVmZXJlbmNlLndpZHRoIHx8IDIwMFxyXG4gICAgdGhpcy5pY29uID0gcHJlZmVyZW5jZS5pY29uIHx8ICcuLi9pbWFnZS9lbW90aWNvbi1wb29wLWJsYWNrLnBuZydcclxuICAgIHRoaXMudGl0bGUgPSBwcmVmZXJlbmNlLnRpdGxlIHx8ICdXaW5kb3cgdGl0bGUnXHJcbiAgICB0aGlzLmlkID0gJ0lELScgKyB0aGlzLnV1aWR2NCgpXHJcbiAgICB0aGlzLndpbmRvd0VsZW1lbnQgPSB0aGlzLmFzc2VtYmxlV2luZG93KClcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBnZW5lcmF0ZSB0aGUgd2luZG93RWxlbWVudFxyXG4gICAqIEByZXR1cm4ge0RPTWVsZW1lbnR9IFRoZSB3aW5kb3dFbGVtZW50XHJcbiAgICovXHJcbiAgYXNzZW1ibGVXaW5kb3c6IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCB0ZW1wbGF0ZVdpbmRvdyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZW1wbGF0ZS13aW5kb3cnKS5jb250ZW50LmNsb25lTm9kZSh0cnVlKVxyXG4gICAgbGV0IG5ld1dpbmRvdyA9IHRlbXBsYXRlV2luZG93LnF1ZXJ5U2VsZWN0b3IoJy53aW5kb3ctZnJhbWUnKVxyXG4gICAgbmV3V2luZG93LmlkID0gdGhpcy5pZFxyXG4gICAgbmV3V2luZG93LnN0eWxlLndpZHRoID0gdGhpcy53aWR0aCArICdweCdcclxuICAgIG5ld1dpbmRvdy5zdHlsZS5oZWlnaHQgPSB0aGlzLmhlaWdodCArICdweCdcclxuICAgIG5ld1dpbmRvdy5xdWVyeVNlbGVjdG9yKCcud2luZG93LXRpdGxlIGltZycpLnNyYyA9IHRoaXMuaWNvblxyXG4gICAgbmV3V2luZG93LnF1ZXJ5U2VsZWN0b3IoJy53aW5kb3ctdGl0bGUgc3BhbicpLnRleHRDb250ZW50ID0gdGhpcy50aXRsZVxyXG4gICAgcmV0dXJuIG5ld1dpbmRvd1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIGdlbmVyYXRlIGEgdW5pcSBpZFxyXG4gICAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGlkXHJcbiAgICovXHJcbiAgdXVpZHY0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gKFsxZTddICsgLTFlMyArIC00ZTMgKyAtOGUzICsgLTFlMTEpLnJlcGxhY2UoL1swMThdL2csIGMgPT5cclxuICAgICAgKGMgXiB3aW5kb3cuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0gJiAxNSA+PiBjIC8gNCkudG9TdHJpbmcoMTYpXHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ29uc3RydWN0b3IgZm9yIGEgVGVtcGxhdGUgV2luZG93XHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cclxubGV0IFRlbXBsYXRlV2luZG93ID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBPYmplY3QuY3JlYXRlKHRlbXBsYXRlV2luZG93QmFzZSwge1xyXG4gICAgJ2hlaWdodCc6IHt2YWx1ZTogdW5kZWZpbmVkLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcclxuICAgICd3aWR0aCc6IHt2YWx1ZTogdW5kZWZpbmVkLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcclxuICAgICdpY29uJzoge3ZhbHVlOiB1bmRlZmluZWQsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxyXG4gICAgJ3RpdGxlJzoge3ZhbHVlOiB1bmRlZmluZWQsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxyXG4gICAgJ2lkJzoge3ZhbHVlOiB1bmRlZmluZWQsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxyXG4gICAgJ3dpbmRvd0VsZW1lbnQnOiB7dmFsdWU6IHVuZGVmaW5lZCwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX1cclxuICB9KVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFRlbXBsYXRlV2luZG93XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2pzL1RlbXBsYXRlV2luZG93LmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n");

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* jshint asi: true, browser: true, expr: true, node: true, esversion: 6 */\r\n\r\n\r\n\r\nconst chatBase = {\r\n\r\n  /**\r\n   * Function to set the basics\r\n   * @param {String} id The uniq id for the window element\r\n   */\r\n  set: function (id) {\r\n    this.apiKey = 'eDBE76deU7L0H9mEBgxUKVR0VCnq0XBd'\r\n    this.ID = id\r\n    this.windowElement = document.querySelector(`#${this.ID}`)\r\n    this.chatContainer = this.windowElement.querySelector('.chatContainer')\r\n    this.username = JSON.parse(window.localStorage.getItem('PWD-Chat-Username'))\r\n    this.msgArray = []\r\n    this.init(this.windowElement)\r\n  },\r\n\r\n  /**\r\n   * Function to initialize the basics\r\n   * @param {DOMelement} windowElement The window element\r\n   */\r\n  init: function (windowElement) {\r\n    this.webSocket = new window.WebSocket('ws://vhost3.lnu.se:20080/socket/')\r\n    this.webSocket.addEventListener('error', this.isOffline.bind(this))\r\n    // this.webSocket.addEventListener('open', this.isOnline.bind(this))\r\n    this.webSocket.addEventListener('message', this.onmessage.bind(this))\r\n\r\n    let windowMenu = windowElement.querySelector('.window-menu')\r\n    windowMenu.addEventListener('click', this.theMenuEventListener.bind(this))\r\n    this.chatContainer.addEventListener('click', this.theEventListener.bind(this))\r\n    this.chatContainer.addEventListener('keypress', this.theKeyEventListener.bind(this))\r\n\r\n    this.chatContainer.addEventListener('unload', this.unload.bind(this))\r\n\r\n    this.chatContainer.querySelector('textarea').focus()\r\n    if (!this.username) {\r\n      this.toggleUsernameSettings()\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Function to unload the basics\r\n   * @param {DOMelement} windowElement The window element\r\n   */\r\n  unload: function (windowElement) {\r\n    this.webSocket.removeEventListener('message', this.onmessage.bind(this))\r\n    // this.webSocket.removeEventListener('open', this.isOnline.bind(this))\r\n    this.webSocket.removeEventListener('error', this.isOffline.bind(this))\r\n    this.webSocket.close()\r\n\r\n    this.chatContainer.removeEventListener('keypress', this.theKeyEventListener.bind(this))\r\n    this.chatContainer.removeEventListener('click', this.theEventListener.bind(this))\r\n    let windowMenu = windowElement.querySelector('.window-menu')\r\n    windowMenu.removeEventListener('click', this.theMenuEventListener.bind(this))\r\n\r\n    this.chatContainer.removeEventListener('unload', this.unload.bind(this))\r\n  },\r\n\r\n  /**\r\n   * A function that can do something when error on web socket\r\n   */\r\n  isOffline: function (event) {\r\n    console.log('ERROR!' + event.data)\r\n  },\r\n\r\n  /**\r\n   * A function that can do something when web socket is online\r\n   */\r\n  isOnline: function (event) {\r\n    console.log('Online')\r\n  },\r\n\r\n  /**\r\n   * A function that does something when receiveing messages via web socket\r\n   */\r\n  onmessage: function (event) {\r\n    let data = JSON.parse(event.data)\r\n    if (data.username === 'The Server' && data.type === 'notification' && data.data === 'You are connected!') {\r\n      // console.log('I am connected!')\r\n    } else if (data.username !== 'The Server' && data.type !== 'heartbeat' && data.data !== '') {\r\n      this.addBubble(data)\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Event listener for the window menu\r\n   */\r\n  theMenuEventListener: function (event) {\r\n    event.preventDefault()\r\n    if (event.target.classList.contains('username')) {\r\n      this.toggleUsernameSettings()\r\n      if (this.username) {\r\n        this.chatContainer.querySelector('.nickname').value = this.username\r\n      }\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Event listener for the app\r\n   */\r\n  theEventListener: function (event) {\r\n    event.preventDefault()\r\n    if (event.target.classList.contains('submit')) {\r\n      if (!this.username) {\r\n        this.toggleUsernameSettings()\r\n      } else {\r\n        if (this.chatContainer.querySelector('textarea').value.trim() !== '') {\r\n          this.submitting()\r\n        }\r\n      }\r\n    } else if (event.target.classList.contains('save')) {\r\n      if (this.chatContainer.querySelector('.nickname').value.trim() !== '') {\r\n        this.saveUsername()\r\n        this.toggleUsernameSettings()\r\n      }\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Keyboard event listener for the app\r\n   */\r\n  theKeyEventListener: function (event) {\r\n    let key = event.buttons || event.which || event.keyCode\r\n    if (event.target.classList.contains('submit')) {\r\n      if (key === 13) {\r\n        if (!this.username) {\r\n        } else {\r\n          event.preventDefault()\r\n          if (this.chatContainer.querySelector('textarea').value.trim() !== '') {\r\n            this.submitting()\r\n          }\r\n        }\r\n      }\r\n    } else if (event.target.classList.contains('save')) {\r\n      if (key === 13) {\r\n        event.preventDefault()\r\n        if (this.chatContainer.querySelector('.nickname').value.trim() !== '') {\r\n          this.saveUsername()\r\n          this.toggleUsernameSettings()\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Parses the history messages to bubbles\r\n   */\r\n  printHistory: function () {\r\n    let data = JSON.parse(window.localStorage.getItem('PWD-Chat-chatHistory'))\r\n    for (let i in data) {\r\n      this.addBubble(data[i])\r\n    }\r\n  },\r\n\r\n  /**\r\n   * init a bubble with a message\r\n   * @param {Object} data The message\r\n   */\r\n  addBubble: function (data) {\r\n    let hand = data.username === this.username ? 'left' : 'right'\r\n    let templateChatBubble = document.querySelector('#template-chat-bubble').content.cloneNode(true)\r\n    let chatBubble = templateChatBubble.querySelector('.chat-bubble')\r\n    chatBubble.classList.add(hand)\r\n    let timeOption = {\r\n      hour12: false,\r\n      weekday: 'narrow',\r\n      hour: '2-digit',\r\n      minute: '2-digit',\r\n      second: '2-digit'\r\n    }\r\n    if (!data.timeMessageWasReceived) {\r\n      data.timeMessageWasReceived = new Date().toLocaleTimeString('sv-se', timeOption)\r\n    }\r\n    chatBubble.querySelector('.name').textContent = data.username\r\n    chatBubble.querySelector('.msg').textContent = data.data\r\n    chatBubble.querySelector('.time').textContent = data.timeMessageWasReceived\r\n    let chatArea = this.chatContainer.querySelector('.chatArea')\r\n    if (chatArea) {\r\n      chatArea.appendChild(chatBubble)\r\n      chatArea.scrollTop = chatArea.scrollHeight\r\n    }\r\n    this.saveMessages(data)\r\n  },\r\n\r\n  /**\r\n   * Saves the username to local storage\r\n   */\r\n  saveUsername: function () {\r\n    this.username = this.chatContainer.querySelector('.nickname').value\r\n    window.localStorage.setItem('PWD-Chat-Username', JSON.stringify(this.username))\r\n  },\r\n\r\n  /**\r\n   * Showing/hiding the usename dialog\r\n   */\r\n  toggleUsernameSettings: function () {\r\n    this.chatContainer.querySelector('.chatArea').classList.toggle('invisible')\r\n    this.chatContainer.querySelector('.userDiv').classList.toggle('hidden')\r\n    this.chatContainer.querySelector('textarea').focus()\r\n    this.chatContainer.querySelector('.userDiv input').focus()\r\n  },\r\n\r\n  /**\r\n   * A function that sends messages via web socket\r\n   */\r\n  submitting: function () {\r\n    let textArea = this.chatContainer.querySelector('textarea')\r\n    let msg = {\r\n      type: 'message',\r\n      data: textArea.value,\r\n      username: this.username,\r\n      key: this.apiKey\r\n    }\r\n    this.webSocket.send(JSON.stringify(msg))\r\n    textArea.value = ''\r\n    textArea.focus()\r\n  },\r\n\r\n  /**\r\n   * Saves the message to local storage\r\n   * @param {Object} data The message\r\n   */\r\n  saveMessages: function (data) {\r\n    if (this.msgArray.length === 20) {\r\n      this.msgArray.shift()\r\n      this.msgArray.push(data)\r\n    } else {\r\n      this.msgArray.push(data)\r\n    }\r\n    window.localStorage.setItem('PWD-Chat-chatHistory', JSON.stringify(this.msgArray))\r\n  }\r\n}\r\n\r\n/**\r\n * Constructor for the Chat\r\n * @constructor\r\n */\r\nlet Chat = function () {\r\n  return Object.create(chatBase, {\r\n    'apiKey': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'webSocket': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'ID': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'windowElement': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'chatContainer': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'username': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'msgArray': {value: undefined, writable: true, enumerable: true, configurable: true}\r\n  })\r\n}\r\n\r\nmodule.exports = Chat\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9DaGF0LmpzP2EyNjMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoganNoaW50IGFzaTogdHJ1ZSwgYnJvd3NlcjogdHJ1ZSwgZXhwcjogdHJ1ZSwgbm9kZTogdHJ1ZSwgZXN2ZXJzaW9uOiA2ICovXHJcblxyXG4ndXNlIHN0cmljdCdcclxuXHJcbmNvbnN0IGNoYXRCYXNlID0ge1xyXG5cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBzZXQgdGhlIGJhc2ljc1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZCBUaGUgdW5pcSBpZCBmb3IgdGhlIHdpbmRvdyBlbGVtZW50XHJcbiAgICovXHJcbiAgc2V0OiBmdW5jdGlvbiAoaWQpIHtcclxuICAgIHRoaXMuYXBpS2V5ID0gJ2VEQkU3NmRlVTdMMEg5bUVCZ3hVS1ZSMFZDbnEwWEJkJ1xyXG4gICAgdGhpcy5JRCA9IGlkXHJcbiAgICB0aGlzLndpbmRvd0VsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHt0aGlzLklEfWApXHJcbiAgICB0aGlzLmNoYXRDb250YWluZXIgPSB0aGlzLndpbmRvd0VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNoYXRDb250YWluZXInKVxyXG4gICAgdGhpcy51c2VybmFtZSA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCdQV0QtQ2hhdC1Vc2VybmFtZScpKVxyXG4gICAgdGhpcy5tc2dBcnJheSA9IFtdXHJcbiAgICB0aGlzLmluaXQodGhpcy53aW5kb3dFbGVtZW50KVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIGluaXRpYWxpemUgdGhlIGJhc2ljc1xyXG4gICAqIEBwYXJhbSB7RE9NZWxlbWVudH0gd2luZG93RWxlbWVudCBUaGUgd2luZG93IGVsZW1lbnRcclxuICAgKi9cclxuICBpbml0OiBmdW5jdGlvbiAod2luZG93RWxlbWVudCkge1xyXG4gICAgdGhpcy53ZWJTb2NrZXQgPSBuZXcgd2luZG93LldlYlNvY2tldCgnd3M6Ly92aG9zdDMubG51LnNlOjIwMDgwL3NvY2tldC8nKVxyXG4gICAgdGhpcy53ZWJTb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLmlzT2ZmbGluZS5iaW5kKHRoaXMpKVxyXG4gICAgLy8gdGhpcy53ZWJTb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsIHRoaXMuaXNPbmxpbmUuYmluZCh0aGlzKSlcclxuICAgIHRoaXMud2ViU29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLm9ubWVzc2FnZS5iaW5kKHRoaXMpKVxyXG5cclxuICAgIGxldCB3aW5kb3dNZW51ID0gd2luZG93RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcud2luZG93LW1lbnUnKVxyXG4gICAgd2luZG93TWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudGhlTWVudUV2ZW50TGlzdGVuZXIuYmluZCh0aGlzKSlcclxuICAgIHRoaXMuY2hhdENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudGhlRXZlbnRMaXN0ZW5lci5iaW5kKHRoaXMpKVxyXG4gICAgdGhpcy5jaGF0Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgdGhpcy50aGVLZXlFdmVudExpc3RlbmVyLmJpbmQodGhpcykpXHJcblxyXG4gICAgdGhpcy5jaGF0Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3VubG9hZCcsIHRoaXMudW5sb2FkLmJpbmQodGhpcykpXHJcblxyXG4gICAgdGhpcy5jaGF0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJykuZm9jdXMoKVxyXG4gICAgaWYgKCF0aGlzLnVzZXJuYW1lKSB7XHJcbiAgICAgIHRoaXMudG9nZ2xlVXNlcm5hbWVTZXR0aW5ncygpXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gdW5sb2FkIHRoZSBiYXNpY3NcclxuICAgKiBAcGFyYW0ge0RPTWVsZW1lbnR9IHdpbmRvd0VsZW1lbnQgVGhlIHdpbmRvdyBlbGVtZW50XHJcbiAgICovXHJcbiAgdW5sb2FkOiBmdW5jdGlvbiAod2luZG93RWxlbWVudCkge1xyXG4gICAgdGhpcy53ZWJTb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMub25tZXNzYWdlLmJpbmQodGhpcykpXHJcbiAgICAvLyB0aGlzLndlYlNvY2tldC5yZW1vdmVFdmVudExpc3RlbmVyKCdvcGVuJywgdGhpcy5pc09ubGluZS5iaW5kKHRoaXMpKVxyXG4gICAgdGhpcy53ZWJTb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLmlzT2ZmbGluZS5iaW5kKHRoaXMpKVxyXG4gICAgdGhpcy53ZWJTb2NrZXQuY2xvc2UoKVxyXG5cclxuICAgIHRoaXMuY2hhdENvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlwcmVzcycsIHRoaXMudGhlS2V5RXZlbnRMaXN0ZW5lci5iaW5kKHRoaXMpKVxyXG4gICAgdGhpcy5jaGF0Q29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50aGVFdmVudExpc3RlbmVyLmJpbmQodGhpcykpXHJcbiAgICBsZXQgd2luZG93TWVudSA9IHdpbmRvd0VsZW1lbnQucXVlcnlTZWxlY3RvcignLndpbmRvdy1tZW51JylcclxuICAgIHdpbmRvd01lbnUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRoZU1lbnVFdmVudExpc3RlbmVyLmJpbmQodGhpcykpXHJcblxyXG4gICAgdGhpcy5jaGF0Q29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VubG9hZCcsIHRoaXMudW5sb2FkLmJpbmQodGhpcykpXHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQSBmdW5jdGlvbiB0aGF0IGNhbiBkbyBzb21ldGhpbmcgd2hlbiBlcnJvciBvbiB3ZWIgc29ja2V0XHJcbiAgICovXHJcbiAgaXNPZmZsaW5lOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGNvbnNvbGUubG9nKCdFUlJPUiEnICsgZXZlbnQuZGF0YSlcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBBIGZ1bmN0aW9uIHRoYXQgY2FuIGRvIHNvbWV0aGluZyB3aGVuIHdlYiBzb2NrZXQgaXMgb25saW5lXHJcbiAgICovXHJcbiAgaXNPbmxpbmU6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgY29uc29sZS5sb2coJ09ubGluZScpXHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQSBmdW5jdGlvbiB0aGF0IGRvZXMgc29tZXRoaW5nIHdoZW4gcmVjZWl2ZWluZyBtZXNzYWdlcyB2aWEgd2ViIHNvY2tldFxyXG4gICAqL1xyXG4gIG9ubWVzc2FnZTogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSlcclxuICAgIGlmIChkYXRhLnVzZXJuYW1lID09PSAnVGhlIFNlcnZlcicgJiYgZGF0YS50eXBlID09PSAnbm90aWZpY2F0aW9uJyAmJiBkYXRhLmRhdGEgPT09ICdZb3UgYXJlIGNvbm5lY3RlZCEnKSB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdJIGFtIGNvbm5lY3RlZCEnKVxyXG4gICAgfSBlbHNlIGlmIChkYXRhLnVzZXJuYW1lICE9PSAnVGhlIFNlcnZlcicgJiYgZGF0YS50eXBlICE9PSAnaGVhcnRiZWF0JyAmJiBkYXRhLmRhdGEgIT09ICcnKSB7XHJcbiAgICAgIHRoaXMuYWRkQnViYmxlKGRhdGEpXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRXZlbnQgbGlzdGVuZXIgZm9yIHRoZSB3aW5kb3cgbWVudVxyXG4gICAqL1xyXG4gIHRoZU1lbnVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCd1c2VybmFtZScpKSB7XHJcbiAgICAgIHRoaXMudG9nZ2xlVXNlcm5hbWVTZXR0aW5ncygpXHJcbiAgICAgIGlmICh0aGlzLnVzZXJuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5jaGF0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5uaWNrbmFtZScpLnZhbHVlID0gdGhpcy51c2VybmFtZVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBhcHBcclxuICAgKi9cclxuICB0aGVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdWJtaXQnKSkge1xyXG4gICAgICBpZiAoIXRoaXMudXNlcm5hbWUpIHtcclxuICAgICAgICB0aGlzLnRvZ2dsZVVzZXJuYW1lU2V0dGluZ3MoKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmICh0aGlzLmNoYXRDb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKS52YWx1ZS50cmltKCkgIT09ICcnKSB7XHJcbiAgICAgICAgICB0aGlzLnN1Ym1pdHRpbmcoKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzYXZlJykpIHtcclxuICAgICAgaWYgKHRoaXMuY2hhdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcubmlja25hbWUnKS52YWx1ZS50cmltKCkgIT09ICcnKSB7XHJcbiAgICAgICAgdGhpcy5zYXZlVXNlcm5hbWUoKVxyXG4gICAgICAgIHRoaXMudG9nZ2xlVXNlcm5hbWVTZXR0aW5ncygpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBLZXlib2FyZCBldmVudCBsaXN0ZW5lciBmb3IgdGhlIGFwcFxyXG4gICAqL1xyXG4gIHRoZUtleUV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgbGV0IGtleSA9IGV2ZW50LmJ1dHRvbnMgfHwgZXZlbnQud2hpY2ggfHwgZXZlbnQua2V5Q29kZVxyXG4gICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3N1Ym1pdCcpKSB7XHJcbiAgICAgIGlmIChrZXkgPT09IDEzKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnVzZXJuYW1lKSB7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICAgIGlmICh0aGlzLmNoYXRDb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKS52YWx1ZS50cmltKCkgIT09ICcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3VibWl0dGluZygpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ3NhdmUnKSkge1xyXG4gICAgICBpZiAoa2V5ID09PSAxMykge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgICAgICBpZiAodGhpcy5jaGF0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5uaWNrbmFtZScpLnZhbHVlLnRyaW0oKSAhPT0gJycpIHtcclxuICAgICAgICAgIHRoaXMuc2F2ZVVzZXJuYW1lKClcclxuICAgICAgICAgIHRoaXMudG9nZ2xlVXNlcm5hbWVTZXR0aW5ncygpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogUGFyc2VzIHRoZSBoaXN0b3J5IG1lc3NhZ2VzIHRvIGJ1YmJsZXNcclxuICAgKi9cclxuICBwcmludEhpc3Rvcnk6IGZ1bmN0aW9uICgpIHtcclxuICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ1BXRC1DaGF0LWNoYXRIaXN0b3J5JykpXHJcbiAgICBmb3IgKGxldCBpIGluIGRhdGEpIHtcclxuICAgICAgdGhpcy5hZGRCdWJibGUoZGF0YVtpXSlcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBpbml0IGEgYnViYmxlIHdpdGggYSBtZXNzYWdlXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGRhdGEgVGhlIG1lc3NhZ2VcclxuICAgKi9cclxuICBhZGRCdWJibGU6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBsZXQgaGFuZCA9IGRhdGEudXNlcm5hbWUgPT09IHRoaXMudXNlcm5hbWUgPyAnbGVmdCcgOiAncmlnaHQnXHJcbiAgICBsZXQgdGVtcGxhdGVDaGF0QnViYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RlbXBsYXRlLWNoYXQtYnViYmxlJykuY29udGVudC5jbG9uZU5vZGUodHJ1ZSlcclxuICAgIGxldCBjaGF0QnViYmxlID0gdGVtcGxhdGVDaGF0QnViYmxlLnF1ZXJ5U2VsZWN0b3IoJy5jaGF0LWJ1YmJsZScpXHJcbiAgICBjaGF0QnViYmxlLmNsYXNzTGlzdC5hZGQoaGFuZClcclxuICAgIGxldCB0aW1lT3B0aW9uID0ge1xyXG4gICAgICBob3VyMTI6IGZhbHNlLFxyXG4gICAgICB3ZWVrZGF5OiAnbmFycm93JyxcclxuICAgICAgaG91cjogJzItZGlnaXQnLFxyXG4gICAgICBtaW51dGU6ICcyLWRpZ2l0JyxcclxuICAgICAgc2Vjb25kOiAnMi1kaWdpdCdcclxuICAgIH1cclxuICAgIGlmICghZGF0YS50aW1lTWVzc2FnZVdhc1JlY2VpdmVkKSB7XHJcbiAgICAgIGRhdGEudGltZU1lc3NhZ2VXYXNSZWNlaXZlZCA9IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCdzdi1zZScsIHRpbWVPcHRpb24pXHJcbiAgICB9XHJcbiAgICBjaGF0QnViYmxlLnF1ZXJ5U2VsZWN0b3IoJy5uYW1lJykudGV4dENvbnRlbnQgPSBkYXRhLnVzZXJuYW1lXHJcbiAgICBjaGF0QnViYmxlLnF1ZXJ5U2VsZWN0b3IoJy5tc2cnKS50ZXh0Q29udGVudCA9IGRhdGEuZGF0YVxyXG4gICAgY2hhdEJ1YmJsZS5xdWVyeVNlbGVjdG9yKCcudGltZScpLnRleHRDb250ZW50ID0gZGF0YS50aW1lTWVzc2FnZVdhc1JlY2VpdmVkXHJcbiAgICBsZXQgY2hhdEFyZWEgPSB0aGlzLmNoYXRDb250YWluZXIucXVlcnlTZWxlY3RvcignLmNoYXRBcmVhJylcclxuICAgIGlmIChjaGF0QXJlYSkge1xyXG4gICAgICBjaGF0QXJlYS5hcHBlbmRDaGlsZChjaGF0QnViYmxlKVxyXG4gICAgICBjaGF0QXJlYS5zY3JvbGxUb3AgPSBjaGF0QXJlYS5zY3JvbGxIZWlnaHRcclxuICAgIH1cclxuICAgIHRoaXMuc2F2ZU1lc3NhZ2VzKGRhdGEpXHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogU2F2ZXMgdGhlIHVzZXJuYW1lIHRvIGxvY2FsIHN0b3JhZ2VcclxuICAgKi9cclxuICBzYXZlVXNlcm5hbWU6IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMudXNlcm5hbWUgPSB0aGlzLmNoYXRDb250YWluZXIucXVlcnlTZWxlY3RvcignLm5pY2tuYW1lJykudmFsdWVcclxuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnUFdELUNoYXQtVXNlcm5hbWUnLCBKU09OLnN0cmluZ2lmeSh0aGlzLnVzZXJuYW1lKSlcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBTaG93aW5nL2hpZGluZyB0aGUgdXNlbmFtZSBkaWFsb2dcclxuICAgKi9cclxuICB0b2dnbGVVc2VybmFtZVNldHRpbmdzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLmNoYXRDb250YWluZXIucXVlcnlTZWxlY3RvcignLmNoYXRBcmVhJykuY2xhc3NMaXN0LnRvZ2dsZSgnaW52aXNpYmxlJylcclxuICAgIHRoaXMuY2hhdENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcudXNlckRpdicpLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpXHJcbiAgICB0aGlzLmNoYXRDb250YWluZXIucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKS5mb2N1cygpXHJcbiAgICB0aGlzLmNoYXRDb250YWluZXIucXVlcnlTZWxlY3RvcignLnVzZXJEaXYgaW5wdXQnKS5mb2N1cygpXHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQSBmdW5jdGlvbiB0aGF0IHNlbmRzIG1lc3NhZ2VzIHZpYSB3ZWIgc29ja2V0XHJcbiAgICovXHJcbiAgc3VibWl0dGluZzogZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IHRleHRBcmVhID0gdGhpcy5jaGF0Q29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJylcclxuICAgIGxldCBtc2cgPSB7XHJcbiAgICAgIHR5cGU6ICdtZXNzYWdlJyxcclxuICAgICAgZGF0YTogdGV4dEFyZWEudmFsdWUsXHJcbiAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLFxyXG4gICAgICBrZXk6IHRoaXMuYXBpS2V5XHJcbiAgICB9XHJcbiAgICB0aGlzLndlYlNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KG1zZykpXHJcbiAgICB0ZXh0QXJlYS52YWx1ZSA9ICcnXHJcbiAgICB0ZXh0QXJlYS5mb2N1cygpXHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogU2F2ZXMgdGhlIG1lc3NhZ2UgdG8gbG9jYWwgc3RvcmFnZVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIFRoZSBtZXNzYWdlXHJcbiAgICovXHJcbiAgc2F2ZU1lc3NhZ2VzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgaWYgKHRoaXMubXNnQXJyYXkubGVuZ3RoID09PSAyMCkge1xyXG4gICAgICB0aGlzLm1zZ0FycmF5LnNoaWZ0KClcclxuICAgICAgdGhpcy5tc2dBcnJheS5wdXNoKGRhdGEpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLm1zZ0FycmF5LnB1c2goZGF0YSlcclxuICAgIH1cclxuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnUFdELUNoYXQtY2hhdEhpc3RvcnknLCBKU09OLnN0cmluZ2lmeSh0aGlzLm1zZ0FycmF5KSlcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb25zdHJ1Y3RvciBmb3IgdGhlIENoYXRcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5sZXQgQ2hhdCA9IGZ1bmN0aW9uICgpIHtcclxuICByZXR1cm4gT2JqZWN0LmNyZWF0ZShjaGF0QmFzZSwge1xyXG4gICAgJ2FwaUtleSc6IHt2YWx1ZTogdW5kZWZpbmVkLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcclxuICAgICd3ZWJTb2NrZXQnOiB7dmFsdWU6IHVuZGVmaW5lZCwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX0sXHJcbiAgICAnSUQnOiB7dmFsdWU6IHVuZGVmaW5lZCwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX0sXHJcbiAgICAnd2luZG93RWxlbWVudCc6IHt2YWx1ZTogdW5kZWZpbmVkLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcclxuICAgICdjaGF0Q29udGFpbmVyJzoge3ZhbHVlOiB1bmRlZmluZWQsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxyXG4gICAgJ3VzZXJuYW1lJzoge3ZhbHVlOiB1bmRlZmluZWQsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxyXG4gICAgJ21zZ0FycmF5Jzoge3ZhbHVlOiB1bmRlZmluZWQsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9XHJcbiAgfSlcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBDaGF0XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2pzL0NoYXQuanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n");

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* jshint asi: true, browser: true, expr: true, node: true, esversion: 6 */\r\n\r\n\r\n\r\nconst memoryBase = {\r\n\r\n  /**\r\n   * Function to set the basics\r\n   * @param {String} id The uniq id for the window element\r\n   */\r\n  set: function (id) {\r\n    this.ID = id\r\n    this.windowElement = document.querySelector(`#${this.ID}`)\r\n    this.memoryContainer = this.windowElement.querySelector('.memoryContainer')\r\n    this.victoryContainer = this.memoryContainer.querySelector('.victory')\r\n    this.buttonContainer = this.memoryContainer.querySelector('.btn-group')\r\n    this.brickContainer = this.memoryContainer.querySelector('.brickContainer')\r\n    this.templateMemoryBrick = document.querySelector('#template-memory-brick')\r\n    this.templateA = this.templateMemoryBrick.content.firstElementChild\r\n    this.init(this.windowElement)\r\n  },\r\n\r\n  /**\r\n   * Function to initialize the basics\r\n   * @param {DOMelement} windowElement The window element\r\n   */\r\n  init: function (windowElement) {\r\n    let windowMenu = windowElement.querySelector('.window-menu')\r\n    windowMenu.addEventListener('click', this.theMenuEventListener.bind(this))\r\n    this.memoryContainer.addEventListener('click', this.theEventListener.bind(this))\r\n  },\r\n\r\n  /**\r\n   * Function to start/activate the app\r\n   */\r\n  runMemory: function () {\r\n    this.startTime = new Date()\r\n    this.rows = parseInt(this.memoryContainer.getAttribute('board-size').charAt(0))\r\n    this.cols = parseInt(this.memoryContainer.getAttribute('board-size').charAt(2))\r\n    this.tiles = this.getPictureArray(this.rows, this.cols)\r\n\r\n    this.clearBoard()\r\n    this.resetCounters()\r\n\r\n    for (let i in this.tiles) {\r\n      let a = document.importNode(this.templateA, true)\r\n      a.firstElementChild.setAttribute('data-brick-index', this.tiles[i])\r\n      this.brickContainer.appendChild(a)\r\n\r\n      if ((+i + 1) % this.cols === 0) {\r\n        this.brickContainer.appendChild(document.createElement('br'))\r\n      }\r\n    }\r\n    this.brickContainer.querySelector('.brick').focus()\r\n  },\r\n\r\n  /**\r\n   * Event listener for the window menu\r\n   */\r\n  theMenuEventListener: function (event) {\r\n    event.preventDefault()\r\n    if (event.target.classList.contains('play')) {\r\n      this.runMemory()\r\n    } else if (event.target.classList.contains('board')) {\r\n      this.buttonContainer.classList.toggle('hidden')\r\n      this.centerElement(this.buttonContainer)\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Event listener for the app\r\n   */\r\n  theEventListener: function (event) {\r\n    event.preventDefault()\r\n    if (event.target.classList.contains('boardSize')) {\r\n      let boardSize = event.target.textContent\r\n      this.memoryContainer.setAttribute('board-size', boardSize)\r\n      this.buttonContainer.classList.toggle('hidden')\r\n    } else {\r\n      let img = event.target.nodeName === 'IMG' ? event.target : event.target.firstElementChild\r\n      if (img !== null) {\r\n        let index = parseInt(img.getAttribute('data-brick-index'))\r\n        if (!isNaN(index)) {\r\n          this.turnBrick(index, img)\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Function to turn the bricks\r\n   * @param {int} index The index\r\n   * @param {DOMelement} img An image\r\n   */\r\n  turnBrick: function (index, img) {\r\n    let tile = index // this.tiles[index]\r\n\r\n    if (this.curClickImg) {\r\n      return\r\n    }\r\n\r\n    img.src = 'image/memory/' + tile + '.png'\r\n\r\n    if (!this.prevClickImg) { // First click\r\n      this.prevClickImg = img\r\n      this.prevClickTile = tile\r\n    } else { // Second Click\r\n      if (this.prevClickImg === img) {\r\n        return\r\n      }\r\n      this.noTries++\r\n      this.curClickImg = img\r\n      if (this.prevClickTile === tile) { // Found a pair\r\n        this.foundPairs++\r\n        if (this.foundPairs === (this.rows * this.cols) / 2) {\r\n          let time = (new Date().getTime() - this.startTime) / 1000\r\n          this.memoryContainer.querySelector('.tries').textContent = this.noTries\r\n          this.memoryContainer.querySelector('.time').textContent = time\r\n        }\r\n        window.setTimeout(() => {\r\n          this.prevClickImg.parentElement.classList.add('hidingBrick')\r\n          this.curClickImg.parentElement.classList.add('hidingBrick')\r\n          this.prevClickImg = null\r\n          this.curClickImg = null\r\n          if (this.checkBoardDone()) {\r\n            this.victoryContainer.classList.toggle('hidden')\r\n            this.centerElement(this.victoryContainer)\r\n          }\r\n        }, 500)\r\n      } else {\r\n        window.setTimeout(() => {\r\n          this.prevClickImg.src = 'image/memory/0.png'\r\n          this.curClickImg.src = 'image/memory/0.png'\r\n          this.prevClickImg = null\r\n          this.curClickImg = null\r\n        }, 500)\r\n      }\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Function to center the element\r\n   * @param {DOMelement} element The element\r\n   */\r\n  centerElement: function (element) {\r\n    let rectWindow = this.windowElement.getBoundingClientRect()\r\n    let rectElement = element.getBoundingClientRect()\r\n    let left = (rectWindow.width - rectElement.width) / 2\r\n    let top = (rectWindow.height - rectElement.height) / 2\r\n    element.style.left = left + 'px'\r\n    element.style.top = top + 'px'\r\n  },\r\n\r\n  /**\r\n   * Function to check if game is done\r\n   * @return {boolean}\r\n   */\r\n  checkBoardDone: function () {\r\n    let bricks = this.brickContainer.querySelectorAll('.brick')\r\n    let hidden = this.brickContainer.querySelectorAll('.hidingBrick')\r\n    return hidden.length === bricks.length\r\n  },\r\n\r\n  /**\r\n   * Function to clear the board\r\n   */\r\n  clearBoard: function () {\r\n    let bricks = this.brickContainer.querySelectorAll('.brick')\r\n    for (let i = 0; i < bricks.length; i++) {\r\n      bricks[i].remove()\r\n    }\r\n    let br = this.brickContainer.querySelectorAll('br')\r\n    for (let i = 0; i < br.length; i++) {\r\n      br[i].remove()\r\n    }\r\n    if (!this.victoryContainer.classList.contains('hidden')) {\r\n      this.victoryContainer.classList.add('hidden')\r\n    }\r\n    if (!this.buttonContainer.classList.contains('hidden')) {\r\n      this.buttonContainer.classList.add('hidden')\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Function to reset the counters\r\n   */\r\n  resetCounters: function () {\r\n    this.curClickImg = null\r\n    this.prevClickImg = null\r\n    this.prevClickTile = 0\r\n    this.foundPairs = 0\r\n    this.noTries = 0\r\n  },\r\n\r\n  /**\r\n   * Function to generate picture array\r\n   * @param {int} rows The rows number\r\n   * @param {int} cols The cols number\r\n   * @return {array} The picture array\r\n   */\r\n  getPictureArray: function (rows, cols) {\r\n    let arr = []\r\n    let n = 0\r\n    let x = 1\r\n    let max = (rows * cols) / 2\r\n\r\n    if (max === 2) {\r\n      n = Math.floor(Math.random() * 7)\r\n    } else if (max === 4) {\r\n      n = Math.floor(Math.random() * 5)\r\n    }\r\n\r\n    for (let i = x + n; i <= max + n; i++) {\r\n      for (let j = 0; j < 2; j++) {\r\n        arr.push(i)\r\n      }\r\n    }\r\n\r\n    arr.sort(function (a, b) {\r\n      return 0.5 - Math.random()\r\n    })\r\n\r\n    return arr\r\n  }\r\n}\r\n\r\n/**\r\n * Constructor for the Memory\r\n * @constructor\r\n */\r\nlet Memory = function () {\r\n  return Object.create(memoryBase, {\r\n    'templateMemoryBrick': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'templateA': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'windowElement': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'memoryContainer': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'victoryContainer': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'buttonContainer': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'brickContainer': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'tiles': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'curClickImg': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'prevClickImg': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'prevClickTile': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'foundPairs': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'noTries': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'rows': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'cols': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'ID': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'startTime': {value: undefined, writable: true, enumerable: true, configurable: true}\r\n  })\r\n}\r\n\r\nmodule.exports = Memory\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9NZW1vcnkuanM/OTNiMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBqc2hpbnQgYXNpOiB0cnVlLCBicm93c2VyOiB0cnVlLCBleHByOiB0cnVlLCBub2RlOiB0cnVlLCBlc3ZlcnNpb246IDYgKi9cclxuXHJcbid1c2Ugc3RyaWN0J1xyXG5cclxuY29uc3QgbWVtb3J5QmFzZSA9IHtcclxuXHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gc2V0IHRoZSBiYXNpY3NcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgVGhlIHVuaXEgaWQgZm9yIHRoZSB3aW5kb3cgZWxlbWVudFxyXG4gICAqL1xyXG4gIHNldDogZnVuY3Rpb24gKGlkKSB7XHJcbiAgICB0aGlzLklEID0gaWRcclxuICAgIHRoaXMud2luZG93RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3RoaXMuSUR9YClcclxuICAgIHRoaXMubWVtb3J5Q29udGFpbmVyID0gdGhpcy53aW5kb3dFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW1vcnlDb250YWluZXInKVxyXG4gICAgdGhpcy52aWN0b3J5Q29udGFpbmVyID0gdGhpcy5tZW1vcnlDb250YWluZXIucXVlcnlTZWxlY3RvcignLnZpY3RvcnknKVxyXG4gICAgdGhpcy5idXR0b25Db250YWluZXIgPSB0aGlzLm1lbW9yeUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuYnRuLWdyb3VwJylcclxuICAgIHRoaXMuYnJpY2tDb250YWluZXIgPSB0aGlzLm1lbW9yeUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuYnJpY2tDb250YWluZXInKVxyXG4gICAgdGhpcy50ZW1wbGF0ZU1lbW9yeUJyaWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RlbXBsYXRlLW1lbW9yeS1icmljaycpXHJcbiAgICB0aGlzLnRlbXBsYXRlQSA9IHRoaXMudGVtcGxhdGVNZW1vcnlCcmljay5jb250ZW50LmZpcnN0RWxlbWVudENoaWxkXHJcbiAgICB0aGlzLmluaXQodGhpcy53aW5kb3dFbGVtZW50KVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIGluaXRpYWxpemUgdGhlIGJhc2ljc1xyXG4gICAqIEBwYXJhbSB7RE9NZWxlbWVudH0gd2luZG93RWxlbWVudCBUaGUgd2luZG93IGVsZW1lbnRcclxuICAgKi9cclxuICBpbml0OiBmdW5jdGlvbiAod2luZG93RWxlbWVudCkge1xyXG4gICAgbGV0IHdpbmRvd01lbnUgPSB3aW5kb3dFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5kb3ctbWVudScpXHJcbiAgICB3aW5kb3dNZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50aGVNZW51RXZlbnRMaXN0ZW5lci5iaW5kKHRoaXMpKVxyXG4gICAgdGhpcy5tZW1vcnlDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnRoZUV2ZW50TGlzdGVuZXIuYmluZCh0aGlzKSlcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBzdGFydC9hY3RpdmF0ZSB0aGUgYXBwXHJcbiAgICovXHJcbiAgcnVuTWVtb3J5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICB0aGlzLnN0YXJ0VGltZSA9IG5ldyBEYXRlKClcclxuICAgIHRoaXMucm93cyA9IHBhcnNlSW50KHRoaXMubWVtb3J5Q29udGFpbmVyLmdldEF0dHJpYnV0ZSgnYm9hcmQtc2l6ZScpLmNoYXJBdCgwKSlcclxuICAgIHRoaXMuY29scyA9IHBhcnNlSW50KHRoaXMubWVtb3J5Q29udGFpbmVyLmdldEF0dHJpYnV0ZSgnYm9hcmQtc2l6ZScpLmNoYXJBdCgyKSlcclxuICAgIHRoaXMudGlsZXMgPSB0aGlzLmdldFBpY3R1cmVBcnJheSh0aGlzLnJvd3MsIHRoaXMuY29scylcclxuXHJcbiAgICB0aGlzLmNsZWFyQm9hcmQoKVxyXG4gICAgdGhpcy5yZXNldENvdW50ZXJzKClcclxuXHJcbiAgICBmb3IgKGxldCBpIGluIHRoaXMudGlsZXMpIHtcclxuICAgICAgbGV0IGEgPSBkb2N1bWVudC5pbXBvcnROb2RlKHRoaXMudGVtcGxhdGVBLCB0cnVlKVxyXG4gICAgICBhLmZpcnN0RWxlbWVudENoaWxkLnNldEF0dHJpYnV0ZSgnZGF0YS1icmljay1pbmRleCcsIHRoaXMudGlsZXNbaV0pXHJcbiAgICAgIHRoaXMuYnJpY2tDb250YWluZXIuYXBwZW5kQ2hpbGQoYSlcclxuXHJcbiAgICAgIGlmICgoK2kgKyAxKSAlIHRoaXMuY29scyA9PT0gMCkge1xyXG4gICAgICAgIHRoaXMuYnJpY2tDb250YWluZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnInKSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5icmlja0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuYnJpY2snKS5mb2N1cygpXHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRXZlbnQgbGlzdGVuZXIgZm9yIHRoZSB3aW5kb3cgbWVudVxyXG4gICAqL1xyXG4gIHRoZU1lbnVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwbGF5JykpIHtcclxuICAgICAgdGhpcy5ydW5NZW1vcnkoKVxyXG4gICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdib2FyZCcpKSB7XHJcbiAgICAgIHRoaXMuYnV0dG9uQ29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpXHJcbiAgICAgIHRoaXMuY2VudGVyRWxlbWVudCh0aGlzLmJ1dHRvbkNvbnRhaW5lcilcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBFdmVudCBsaXN0ZW5lciBmb3IgdGhlIGFwcFxyXG4gICAqL1xyXG4gIHRoZUV2ZW50TGlzdGVuZXI6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG4gICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2JvYXJkU2l6ZScpKSB7XHJcbiAgICAgIGxldCBib2FyZFNpemUgPSBldmVudC50YXJnZXQudGV4dENvbnRlbnRcclxuICAgICAgdGhpcy5tZW1vcnlDb250YWluZXIuc2V0QXR0cmlidXRlKCdib2FyZC1zaXplJywgYm9hcmRTaXplKVxyXG4gICAgICB0aGlzLmJ1dHRvbkNvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IGltZyA9IGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gJ0lNRycgPyBldmVudC50YXJnZXQgOiBldmVudC50YXJnZXQuZmlyc3RFbGVtZW50Q2hpbGRcclxuICAgICAgaWYgKGltZyAhPT0gbnVsbCkge1xyXG4gICAgICAgIGxldCBpbmRleCA9IHBhcnNlSW50KGltZy5nZXRBdHRyaWJ1dGUoJ2RhdGEtYnJpY2staW5kZXgnKSlcclxuICAgICAgICBpZiAoIWlzTmFOKGluZGV4KSkge1xyXG4gICAgICAgICAgdGhpcy50dXJuQnJpY2soaW5kZXgsIGltZylcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byB0dXJuIHRoZSBicmlja3NcclxuICAgKiBAcGFyYW0ge2ludH0gaW5kZXggVGhlIGluZGV4XHJcbiAgICogQHBhcmFtIHtET01lbGVtZW50fSBpbWcgQW4gaW1hZ2VcclxuICAgKi9cclxuICB0dXJuQnJpY2s6IGZ1bmN0aW9uIChpbmRleCwgaW1nKSB7XHJcbiAgICBsZXQgdGlsZSA9IGluZGV4IC8vIHRoaXMudGlsZXNbaW5kZXhdXHJcblxyXG4gICAgaWYgKHRoaXMuY3VyQ2xpY2tJbWcpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgaW1nLnNyYyA9ICdpbWFnZS9tZW1vcnkvJyArIHRpbGUgKyAnLnBuZydcclxuXHJcbiAgICBpZiAoIXRoaXMucHJldkNsaWNrSW1nKSB7IC8vIEZpcnN0IGNsaWNrXHJcbiAgICAgIHRoaXMucHJldkNsaWNrSW1nID0gaW1nXHJcbiAgICAgIHRoaXMucHJldkNsaWNrVGlsZSA9IHRpbGVcclxuICAgIH0gZWxzZSB7IC8vIFNlY29uZCBDbGlja1xyXG4gICAgICBpZiAodGhpcy5wcmV2Q2xpY2tJbWcgPT09IGltZykge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMubm9UcmllcysrXHJcbiAgICAgIHRoaXMuY3VyQ2xpY2tJbWcgPSBpbWdcclxuICAgICAgaWYgKHRoaXMucHJldkNsaWNrVGlsZSA9PT0gdGlsZSkgeyAvLyBGb3VuZCBhIHBhaXJcclxuICAgICAgICB0aGlzLmZvdW5kUGFpcnMrK1xyXG4gICAgICAgIGlmICh0aGlzLmZvdW5kUGFpcnMgPT09ICh0aGlzLnJvd3MgKiB0aGlzLmNvbHMpIC8gMikge1xyXG4gICAgICAgICAgbGV0IHRpbWUgPSAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLnN0YXJ0VGltZSkgLyAxMDAwXHJcbiAgICAgICAgICB0aGlzLm1lbW9yeUNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcudHJpZXMnKS50ZXh0Q29udGVudCA9IHRoaXMubm9Ucmllc1xyXG4gICAgICAgICAgdGhpcy5tZW1vcnlDb250YWluZXIucXVlcnlTZWxlY3RvcignLnRpbWUnKS50ZXh0Q29udGVudCA9IHRpbWVcclxuICAgICAgICB9XHJcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5wcmV2Q2xpY2tJbWcucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRpbmdCcmljaycpXHJcbiAgICAgICAgICB0aGlzLmN1ckNsaWNrSW1nLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkaW5nQnJpY2snKVxyXG4gICAgICAgICAgdGhpcy5wcmV2Q2xpY2tJbWcgPSBudWxsXHJcbiAgICAgICAgICB0aGlzLmN1ckNsaWNrSW1nID0gbnVsbFxyXG4gICAgICAgICAgaWYgKHRoaXMuY2hlY2tCb2FyZERvbmUoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnZpY3RvcnlDb250YWluZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJylcclxuICAgICAgICAgICAgdGhpcy5jZW50ZXJFbGVtZW50KHRoaXMudmljdG9yeUNvbnRhaW5lcilcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCA1MDApXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgdGhpcy5wcmV2Q2xpY2tJbWcuc3JjID0gJ2ltYWdlL21lbW9yeS8wLnBuZydcclxuICAgICAgICAgIHRoaXMuY3VyQ2xpY2tJbWcuc3JjID0gJ2ltYWdlL21lbW9yeS8wLnBuZydcclxuICAgICAgICAgIHRoaXMucHJldkNsaWNrSW1nID0gbnVsbFxyXG4gICAgICAgICAgdGhpcy5jdXJDbGlja0ltZyA9IG51bGxcclxuICAgICAgICB9LCA1MDApXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBjZW50ZXIgdGhlIGVsZW1lbnRcclxuICAgKiBAcGFyYW0ge0RPTWVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnRcclxuICAgKi9cclxuICBjZW50ZXJFbGVtZW50OiBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgbGV0IHJlY3RXaW5kb3cgPSB0aGlzLndpbmRvd0VsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuICAgIGxldCByZWN0RWxlbWVudCA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcclxuICAgIGxldCBsZWZ0ID0gKHJlY3RXaW5kb3cud2lkdGggLSByZWN0RWxlbWVudC53aWR0aCkgLyAyXHJcbiAgICBsZXQgdG9wID0gKHJlY3RXaW5kb3cuaGVpZ2h0IC0gcmVjdEVsZW1lbnQuaGVpZ2h0KSAvIDJcclxuICAgIGVsZW1lbnQuc3R5bGUubGVmdCA9IGxlZnQgKyAncHgnXHJcbiAgICBlbGVtZW50LnN0eWxlLnRvcCA9IHRvcCArICdweCdcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBjaGVjayBpZiBnYW1lIGlzIGRvbmVcclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxyXG4gICAqL1xyXG4gIGNoZWNrQm9hcmREb25lOiBmdW5jdGlvbiAoKSB7XHJcbiAgICBsZXQgYnJpY2tzID0gdGhpcy5icmlja0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCcuYnJpY2snKVxyXG4gICAgbGV0IGhpZGRlbiA9IHRoaXMuYnJpY2tDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmhpZGluZ0JyaWNrJylcclxuICAgIHJldHVybiBoaWRkZW4ubGVuZ3RoID09PSBicmlja3MubGVuZ3RoXHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gY2xlYXIgdGhlIGJvYXJkXHJcbiAgICovXHJcbiAgY2xlYXJCb2FyZDogZnVuY3Rpb24gKCkge1xyXG4gICAgbGV0IGJyaWNrcyA9IHRoaXMuYnJpY2tDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmJyaWNrJylcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnJpY2tzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGJyaWNrc1tpXS5yZW1vdmUoKVxyXG4gICAgfVxyXG4gICAgbGV0IGJyID0gdGhpcy5icmlja0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKCdicicpXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGJyW2ldLnJlbW92ZSgpXHJcbiAgICB9XHJcbiAgICBpZiAoIXRoaXMudmljdG9yeUNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XHJcbiAgICAgIHRoaXMudmljdG9yeUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxyXG4gICAgfVxyXG4gICAgaWYgKCF0aGlzLmJ1dHRvbkNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XHJcbiAgICAgIHRoaXMuYnV0dG9uQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gcmVzZXQgdGhlIGNvdW50ZXJzXHJcbiAgICovXHJcbiAgcmVzZXRDb3VudGVyczogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5jdXJDbGlja0ltZyA9IG51bGxcclxuICAgIHRoaXMucHJldkNsaWNrSW1nID0gbnVsbFxyXG4gICAgdGhpcy5wcmV2Q2xpY2tUaWxlID0gMFxyXG4gICAgdGhpcy5mb3VuZFBhaXJzID0gMFxyXG4gICAgdGhpcy5ub1RyaWVzID0gMFxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIGdlbmVyYXRlIHBpY3R1cmUgYXJyYXlcclxuICAgKiBAcGFyYW0ge2ludH0gcm93cyBUaGUgcm93cyBudW1iZXJcclxuICAgKiBAcGFyYW0ge2ludH0gY29scyBUaGUgY29scyBudW1iZXJcclxuICAgKiBAcmV0dXJuIHthcnJheX0gVGhlIHBpY3R1cmUgYXJyYXlcclxuICAgKi9cclxuICBnZXRQaWN0dXJlQXJyYXk6IGZ1bmN0aW9uIChyb3dzLCBjb2xzKSB7XHJcbiAgICBsZXQgYXJyID0gW11cclxuICAgIGxldCBuID0gMFxyXG4gICAgbGV0IHggPSAxXHJcbiAgICBsZXQgbWF4ID0gKHJvd3MgKiBjb2xzKSAvIDJcclxuXHJcbiAgICBpZiAobWF4ID09PSAyKSB7XHJcbiAgICAgIG4gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA3KVxyXG4gICAgfSBlbHNlIGlmIChtYXggPT09IDQpIHtcclxuICAgICAgbiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUpXHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IHggKyBuOyBpIDw9IG1heCArIG47IGkrKykge1xyXG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDI7IGorKykge1xyXG4gICAgICAgIGFyci5wdXNoKGkpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhcnIuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICByZXR1cm4gMC41IC0gTWF0aC5yYW5kb20oKVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gYXJyXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQ29uc3RydWN0b3IgZm9yIHRoZSBNZW1vcnlcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqL1xyXG5sZXQgTWVtb3J5ID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBPYmplY3QuY3JlYXRlKG1lbW9yeUJhc2UsIHtcclxuICAgICd0ZW1wbGF0ZU1lbW9yeUJyaWNrJzoge3ZhbHVlOiB1bmRlZmluZWQsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxyXG4gICAgJ3RlbXBsYXRlQSc6IHt2YWx1ZTogdW5kZWZpbmVkLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcclxuICAgICd3aW5kb3dFbGVtZW50Jzoge3ZhbHVlOiB1bmRlZmluZWQsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxyXG4gICAgJ21lbW9yeUNvbnRhaW5lcic6IHt2YWx1ZTogdW5kZWZpbmVkLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcclxuICAgICd2aWN0b3J5Q29udGFpbmVyJzoge3ZhbHVlOiB1bmRlZmluZWQsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxyXG4gICAgJ2J1dHRvbkNvbnRhaW5lcic6IHt2YWx1ZTogdW5kZWZpbmVkLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcclxuICAgICdicmlja0NvbnRhaW5lcic6IHt2YWx1ZTogdW5kZWZpbmVkLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcclxuICAgICd0aWxlcyc6IHt2YWx1ZTogdW5kZWZpbmVkLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcclxuICAgICdjdXJDbGlja0ltZyc6IHt2YWx1ZTogdW5kZWZpbmVkLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcclxuICAgICdwcmV2Q2xpY2tJbWcnOiB7dmFsdWU6IHVuZGVmaW5lZCwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX0sXHJcbiAgICAncHJldkNsaWNrVGlsZSc6IHt2YWx1ZTogdW5kZWZpbmVkLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcclxuICAgICdmb3VuZFBhaXJzJzoge3ZhbHVlOiB1bmRlZmluZWQsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxyXG4gICAgJ25vVHJpZXMnOiB7dmFsdWU6IHVuZGVmaW5lZCwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX0sXHJcbiAgICAncm93cyc6IHt2YWx1ZTogdW5kZWZpbmVkLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcclxuICAgICdjb2xzJzoge3ZhbHVlOiB1bmRlZmluZWQsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxyXG4gICAgJ0lEJzoge3ZhbHVlOiB1bmRlZmluZWQsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxyXG4gICAgJ3N0YXJ0VGltZSc6IHt2YWx1ZTogdW5kZWZpbmVkLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfVxyXG4gIH0pXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gTWVtb3J5XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vc3JjL2pzL01lbW9yeS5qc1xuLy8gbW9kdWxlIGlkID0gNVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5\n");

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* jshint asi: true, browser: true, expr: true, node: true, esversion: 6 */\r\n\r\n\r\n\r\nconst calculatorBase = {\r\n\r\n  /**\r\n   * Function to set the basics\r\n   * @param {String} id The uniq id for the window element\r\n   */\r\n  set: function (id) {\r\n    this.ID = id\r\n    this.windowElement = document.querySelector(`#${this.ID}`)\r\n    this.calculatorContainer = this.windowElement.querySelector('.calculatorContainer')\r\n    this.display = this.calculatorContainer.querySelector('.display')\r\n    this.historyContainer = this.calculatorContainer.querySelector('.calculator-history')\r\n    this.init(this.windowElement)\r\n  },\r\n\r\n  /**\r\n   * Function to initialize the basics\r\n   * @param {DOMelement} windowElement The window element\r\n   */\r\n  init: function (windowElement) {\r\n    let windowMenu = windowElement.querySelector('.window-menu')\r\n    windowMenu.addEventListener('click', this.theMenuEventListener.bind(this))\r\n    this.calculatorContainer.addEventListener('click', this.theEventListener.bind(this))\r\n    this.calculatorContainer.addEventListener('keydown', this.theKeyEventListener.bind(this))\r\n  },\r\n\r\n  /**\r\n   * Event listener for the window menu\r\n   */\r\n  theMenuEventListener: function (event) {\r\n    event.preventDefault()\r\n    if (event.target.classList.contains('history')) {\r\n      this.toggleHistory()\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Event listener for the app\r\n   */\r\n  theEventListener: function (event) {\r\n    event.preventDefault()\r\n    let key = event.target.textContent.charCodeAt(0)\r\n    if (event.target.textContent === 'CE') {\r\n      this.inputDisplay(46)\r\n    } else if (event.target.textContent === 'C') {\r\n      this.inputDisplay(8)\r\n    } else if (key === 247) { // ×\r\n      this.inputDisplay(111)\r\n    } else if (key === 8203) { // ÷\r\n      this.inputDisplay(106)\r\n    } else if (key === 46) { // .\r\n      this.inputDisplay(110)\r\n    } else if (key === 61) { // =\r\n      this.inputDisplay(13)\r\n    } else {\r\n      this.inputDisplay(key)\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Keyboard event listener for the app\r\n   */\r\n  theKeyEventListener: function (event) {\r\n    let key = event.buttons || event.which || event.keyCode\r\n    if (key !== 9 && key !== 32) {\r\n      event.preventDefault()\r\n    }\r\n    this.inputDisplay(key)\r\n  },\r\n\r\n  /**\r\n   * Function to handle the input to the display\r\n   * @param {int} key The key action\r\n   */\r\n  inputDisplay: function (key) {\r\n    let inputDisplay = this.display.querySelector('input')\r\n    if (key === 110 || key === 188 || key === 190) {\r\n      inputDisplay.value += '.'\r\n    } else if (key === 43 || key === 107 || key === 187) {\r\n      inputDisplay.value += String.fromCharCode(43) // +\r\n    } else if (key === 45 || key === 109 || key === 189) {\r\n      inputDisplay.value += String.fromCharCode(45) // -\r\n    } else if (key === 42 || key === 106 || key === 191) {\r\n      inputDisplay.value += String.fromCharCode(42) // *\r\n    } else if (key === 47 || key === 111 || key === 219) {\r\n      inputDisplay.value += String.fromCharCode(47) // /\r\n    } else if (key >= 48 && key <= 57) {\r\n      inputDisplay.value += String.fromCharCode(key)\r\n    } else if (key >= 96 && key <= 105) {\r\n      inputDisplay.value += String.fromCharCode(key - 48)\r\n    } else if (key === 8 || key === 67) {\r\n      inputDisplay.value = inputDisplay.value.slice(0, -1)\r\n    } else if (key === 46) {\r\n      inputDisplay.value = null\r\n    } else if (key === 13) {\r\n      inputDisplay.value = this.calc(inputDisplay.value)\r\n    }\r\n  },\r\n\r\n  /**\r\n   * The function to do the calculation\r\n   * @param {String} input The math to calculate\r\n   * @return {int} The sum\r\n   */\r\n  calc: function (input) {\r\n    try {\r\n      let sum = eval(input) // TODO: Replace eval()\r\n      this.history(input, sum)\r\n      return sum\r\n    } catch (e) {\r\n      return 'Error'\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Hide or show the history part of window\r\n   */\r\n  toggleHistory: function () {\r\n    this.historyContainer.classList.toggle('hidden')\r\n    if (!this.historyContainer.classList.contains('hidden')) {\r\n      this.windowElement.style.width = 504 + 'px'\r\n    } else {\r\n      this.windowElement.style.width = null\r\n    }\r\n  },\r\n\r\n  /**\r\n   * Populate the history window\r\n   * @param {String} input The math part\r\n   * @param {int} sum The calculated part\r\n   */\r\n  history: function (input, sum) {\r\n    let templateHistoryElement = document.querySelector('#template-calculator-history').content.cloneNode(true)\r\n    let historyDiv = templateHistoryElement.querySelector('.calcHistory')\r\n    historyDiv.querySelector('.calc').textContent = input\r\n    historyDiv.querySelector('.sum').textContent = sum\r\n    this.historyContainer.insertBefore(historyDiv, this.historyContainer.firstElementChild)\r\n  }\r\n}\r\n\r\n/**\r\n * Constructor for the Calculator\r\n * @constructor\r\n */\r\nlet Calculator = function () {\r\n  return Object.create(calculatorBase, {\r\n    'ID': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'windowElement': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'calculatorContainer': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'display': {value: undefined, writable: true, enumerable: true, configurable: true},\r\n    'historyContainer': {value: undefined, writable: true, enumerable: true, configurable: true}\r\n  })\r\n}\r\n\r\nmodule.exports = Calculator\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9qcy9DYWxjdWxhdG9yLmpzPzMwNGMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoganNoaW50IGFzaTogdHJ1ZSwgYnJvd3NlcjogdHJ1ZSwgZXhwcjogdHJ1ZSwgbm9kZTogdHJ1ZSwgZXN2ZXJzaW9uOiA2ICovXHJcblxyXG4ndXNlIHN0cmljdCdcclxuXHJcbmNvbnN0IGNhbGN1bGF0b3JCYXNlID0ge1xyXG5cclxuICAvKipcclxuICAgKiBGdW5jdGlvbiB0byBzZXQgdGhlIGJhc2ljc1xyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBpZCBUaGUgdW5pcSBpZCBmb3IgdGhlIHdpbmRvdyBlbGVtZW50XHJcbiAgICovXHJcbiAgc2V0OiBmdW5jdGlvbiAoaWQpIHtcclxuICAgIHRoaXMuSUQgPSBpZFxyXG4gICAgdGhpcy53aW5kb3dFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGhpcy5JRH1gKVxyXG4gICAgdGhpcy5jYWxjdWxhdG9yQ29udGFpbmVyID0gdGhpcy53aW5kb3dFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYWxjdWxhdG9yQ29udGFpbmVyJylcclxuICAgIHRoaXMuZGlzcGxheSA9IHRoaXMuY2FsY3VsYXRvckNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZGlzcGxheScpXHJcbiAgICB0aGlzLmhpc3RvcnlDb250YWluZXIgPSB0aGlzLmNhbGN1bGF0b3JDb250YWluZXIucXVlcnlTZWxlY3RvcignLmNhbGN1bGF0b3ItaGlzdG9yeScpXHJcbiAgICB0aGlzLmluaXQodGhpcy53aW5kb3dFbGVtZW50KVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEZ1bmN0aW9uIHRvIGluaXRpYWxpemUgdGhlIGJhc2ljc1xyXG4gICAqIEBwYXJhbSB7RE9NZWxlbWVudH0gd2luZG93RWxlbWVudCBUaGUgd2luZG93IGVsZW1lbnRcclxuICAgKi9cclxuICBpbml0OiBmdW5jdGlvbiAod2luZG93RWxlbWVudCkge1xyXG4gICAgbGV0IHdpbmRvd01lbnUgPSB3aW5kb3dFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy53aW5kb3ctbWVudScpXHJcbiAgICB3aW5kb3dNZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50aGVNZW51RXZlbnRMaXN0ZW5lci5iaW5kKHRoaXMpKVxyXG4gICAgdGhpcy5jYWxjdWxhdG9yQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50aGVFdmVudExpc3RlbmVyLmJpbmQodGhpcykpXHJcbiAgICB0aGlzLmNhbGN1bGF0b3JDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMudGhlS2V5RXZlbnRMaXN0ZW5lci5iaW5kKHRoaXMpKVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEV2ZW50IGxpc3RlbmVyIGZvciB0aGUgd2luZG93IG1lbnVcclxuICAgKi9cclxuICB0aGVNZW51RXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnaGlzdG9yeScpKSB7XHJcbiAgICAgIHRoaXMudG9nZ2xlSGlzdG9yeSgpXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBhcHBcclxuICAgKi9cclxuICB0aGVFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcclxuICAgIGxldCBrZXkgPSBldmVudC50YXJnZXQudGV4dENvbnRlbnQuY2hhckNvZGVBdCgwKVxyXG4gICAgaWYgKGV2ZW50LnRhcmdldC50ZXh0Q29udGVudCA9PT0gJ0NFJykge1xyXG4gICAgICB0aGlzLmlucHV0RGlzcGxheSg0NilcclxuICAgIH0gZWxzZSBpZiAoZXZlbnQudGFyZ2V0LnRleHRDb250ZW50ID09PSAnQycpIHtcclxuICAgICAgdGhpcy5pbnB1dERpc3BsYXkoOClcclxuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAyNDcpIHsgLy8gw5dcclxuICAgICAgdGhpcy5pbnB1dERpc3BsYXkoMTExKVxyXG4gICAgfSBlbHNlIGlmIChrZXkgPT09IDgyMDMpIHsgLy8gw7dcclxuICAgICAgdGhpcy5pbnB1dERpc3BsYXkoMTA2KVxyXG4gICAgfSBlbHNlIGlmIChrZXkgPT09IDQ2KSB7IC8vIC5cclxuICAgICAgdGhpcy5pbnB1dERpc3BsYXkoMTEwKVxyXG4gICAgfSBlbHNlIGlmIChrZXkgPT09IDYxKSB7IC8vID1cclxuICAgICAgdGhpcy5pbnB1dERpc3BsYXkoMTMpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmlucHV0RGlzcGxheShrZXkpXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogS2V5Ym9hcmQgZXZlbnQgbGlzdGVuZXIgZm9yIHRoZSBhcHBcclxuICAgKi9cclxuICB0aGVLZXlFdmVudExpc3RlbmVyOiBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIGxldCBrZXkgPSBldmVudC5idXR0b25zIHx8IGV2ZW50LndoaWNoIHx8IGV2ZW50LmtleUNvZGVcclxuICAgIGlmIChrZXkgIT09IDkgJiYga2V5ICE9PSAzMikge1xyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICB9XHJcbiAgICB0aGlzLmlucHV0RGlzcGxheShrZXkpXHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogRnVuY3Rpb24gdG8gaGFuZGxlIHRoZSBpbnB1dCB0byB0aGUgZGlzcGxheVxyXG4gICAqIEBwYXJhbSB7aW50fSBrZXkgVGhlIGtleSBhY3Rpb25cclxuICAgKi9cclxuICBpbnB1dERpc3BsYXk6IGZ1bmN0aW9uIChrZXkpIHtcclxuICAgIGxldCBpbnB1dERpc3BsYXkgPSB0aGlzLmRpc3BsYXkucXVlcnlTZWxlY3RvcignaW5wdXQnKVxyXG4gICAgaWYgKGtleSA9PT0gMTEwIHx8IGtleSA9PT0gMTg4IHx8IGtleSA9PT0gMTkwKSB7XHJcbiAgICAgIGlucHV0RGlzcGxheS52YWx1ZSArPSAnLidcclxuICAgIH0gZWxzZSBpZiAoa2V5ID09PSA0MyB8fCBrZXkgPT09IDEwNyB8fCBrZXkgPT09IDE4Nykge1xyXG4gICAgICBpbnB1dERpc3BsYXkudmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSg0MykgLy8gK1xyXG4gICAgfSBlbHNlIGlmIChrZXkgPT09IDQ1IHx8IGtleSA9PT0gMTA5IHx8IGtleSA9PT0gMTg5KSB7XHJcbiAgICAgIGlucHV0RGlzcGxheS52YWx1ZSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDQ1KSAvLyAtXHJcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gNDIgfHwga2V5ID09PSAxMDYgfHwga2V5ID09PSAxOTEpIHtcclxuICAgICAgaW5wdXREaXNwbGF5LnZhbHVlICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoNDIpIC8vICpcclxuICAgIH0gZWxzZSBpZiAoa2V5ID09PSA0NyB8fCBrZXkgPT09IDExMSB8fCBrZXkgPT09IDIxOSkge1xyXG4gICAgICBpbnB1dERpc3BsYXkudmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSg0NykgLy8gL1xyXG4gICAgfSBlbHNlIGlmIChrZXkgPj0gNDggJiYga2V5IDw9IDU3KSB7XHJcbiAgICAgIGlucHV0RGlzcGxheS52YWx1ZSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGtleSlcclxuICAgIH0gZWxzZSBpZiAoa2V5ID49IDk2ICYmIGtleSA8PSAxMDUpIHtcclxuICAgICAgaW5wdXREaXNwbGF5LnZhbHVlICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoa2V5IC0gNDgpXHJcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gOCB8fCBrZXkgPT09IDY3KSB7XHJcbiAgICAgIGlucHV0RGlzcGxheS52YWx1ZSA9IGlucHV0RGlzcGxheS52YWx1ZS5zbGljZSgwLCAtMSlcclxuICAgIH0gZWxzZSBpZiAoa2V5ID09PSA0Nikge1xyXG4gICAgICBpbnB1dERpc3BsYXkudmFsdWUgPSBudWxsXHJcbiAgICB9IGVsc2UgaWYgKGtleSA9PT0gMTMpIHtcclxuICAgICAgaW5wdXREaXNwbGF5LnZhbHVlID0gdGhpcy5jYWxjKGlucHV0RGlzcGxheS52YWx1ZSlcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBUaGUgZnVuY3Rpb24gdG8gZG8gdGhlIGNhbGN1bGF0aW9uXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBtYXRoIHRvIGNhbGN1bGF0ZVxyXG4gICAqIEByZXR1cm4ge2ludH0gVGhlIHN1bVxyXG4gICAqL1xyXG4gIGNhbGM6IGZ1bmN0aW9uIChpbnB1dCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHN1bSA9IGV2YWwoaW5wdXQpIC8vIFRPRE86IFJlcGxhY2UgZXZhbCgpXHJcbiAgICAgIHRoaXMuaGlzdG9yeShpbnB1dCwgc3VtKVxyXG4gICAgICByZXR1cm4gc3VtXHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiAnRXJyb3InXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogSGlkZSBvciBzaG93IHRoZSBoaXN0b3J5IHBhcnQgb2Ygd2luZG93XHJcbiAgICovXHJcbiAgdG9nZ2xlSGlzdG9yeTogZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy5oaXN0b3J5Q29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpXHJcbiAgICBpZiAoIXRoaXMuaGlzdG9yeUNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB7XHJcbiAgICAgIHRoaXMud2luZG93RWxlbWVudC5zdHlsZS53aWR0aCA9IDUwNCArICdweCdcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMud2luZG93RWxlbWVudC5zdHlsZS53aWR0aCA9IG51bGxcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBQb3B1bGF0ZSB0aGUgaGlzdG9yeSB3aW5kb3dcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIG1hdGggcGFydFxyXG4gICAqIEBwYXJhbSB7aW50fSBzdW0gVGhlIGNhbGN1bGF0ZWQgcGFydFxyXG4gICAqL1xyXG4gIGhpc3Rvcnk6IGZ1bmN0aW9uIChpbnB1dCwgc3VtKSB7XHJcbiAgICBsZXQgdGVtcGxhdGVIaXN0b3J5RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZW1wbGF0ZS1jYWxjdWxhdG9yLWhpc3RvcnknKS5jb250ZW50LmNsb25lTm9kZSh0cnVlKVxyXG4gICAgbGV0IGhpc3RvcnlEaXYgPSB0ZW1wbGF0ZUhpc3RvcnlFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYWxjSGlzdG9yeScpXHJcbiAgICBoaXN0b3J5RGl2LnF1ZXJ5U2VsZWN0b3IoJy5jYWxjJykudGV4dENvbnRlbnQgPSBpbnB1dFxyXG4gICAgaGlzdG9yeURpdi5xdWVyeVNlbGVjdG9yKCcuc3VtJykudGV4dENvbnRlbnQgPSBzdW1cclxuICAgIHRoaXMuaGlzdG9yeUNvbnRhaW5lci5pbnNlcnRCZWZvcmUoaGlzdG9yeURpdiwgdGhpcy5oaXN0b3J5Q29udGFpbmVyLmZpcnN0RWxlbWVudENoaWxkKVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnN0cnVjdG9yIGZvciB0aGUgQ2FsY3VsYXRvclxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbmxldCBDYWxjdWxhdG9yID0gZnVuY3Rpb24gKCkge1xyXG4gIHJldHVybiBPYmplY3QuY3JlYXRlKGNhbGN1bGF0b3JCYXNlLCB7XHJcbiAgICAnSUQnOiB7dmFsdWU6IHVuZGVmaW5lZCwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX0sXHJcbiAgICAnd2luZG93RWxlbWVudCc6IHt2YWx1ZTogdW5kZWZpbmVkLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSxcclxuICAgICdjYWxjdWxhdG9yQ29udGFpbmVyJzoge3ZhbHVlOiB1bmRlZmluZWQsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWV9LFxyXG4gICAgJ2Rpc3BsYXknOiB7dmFsdWU6IHVuZGVmaW5lZCwgd3JpdGFibGU6IHRydWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZX0sXHJcbiAgICAnaGlzdG9yeUNvbnRhaW5lcic6IHt2YWx1ZTogdW5kZWZpbmVkLCB3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfVxyXG4gIH0pXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gQ2FsY3VsYXRvclxyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9qcy9DYWxjdWxhdG9yLmpzXG4vLyBtb2R1bGUgaWQgPSA2XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n");

/***/ })
/******/ ]);